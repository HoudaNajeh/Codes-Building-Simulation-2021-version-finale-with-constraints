import datetime
import numpy as np
import matplotlib.pyplot as plt
import math
import scipy
from scipy.optimize import rosen, differential_evolution
import datetime
import scipy.stats as stats
Toffice= [27.69363308333333, 27.61, 27.61, 27.61, 27.582752933333335, 27.469306800000002, 27.29, 27.289999999999996, 27.188149416666665, 27.073194533333332, 27.14959800277778, 27.277937933333334, 27.245994083333333, 27.469095199999998, 27.70090016666667, 27.76, 28.056643250000004, 28.484249955555555, 28.54557151111111, 27.94797098333333, 27.693534208333336, 27.61, 27.61, 27.689229624999996, 27.689228083333333, 27.733236375, 27.638952958333334, 27.664675125000002, 27.705673583333336, 27.63316529166667, 27.61, 27.567743155555554, 27.61, 27.716212541666668, 27.826702266666665, 28.096349466666663, 28.35524606111111, 28.587576666666667, 28.406882844444446, 28.34799175, 28.332456541666666, 28.24, 28.137859377777776, 27.967299511111115, 27.879053199999994, 27.742508166666667, 27.649615333333333, 27.525494622222222, 27.496333244444443, 27.387588177777776, 27.29, 27.147139583333338, 26.961164622222224, 26.895095155555556, 26.819999999999997, 26.78996504166667, 26.71399691666667, 26.709598000000003, 26.723261833333336, 26.82, 26.8823592, 27.04746728888889, 27.032044933333335, 27.00129911111111, 26.997078044444446, 27.06148875555556, 27.101168400000002, 27.14, 27.083677644444446, 27.03636262222222, 26.98, 26.870808755555554, 26.857542844444442, 26.82, 26.707595958333336, 26.624720755555554, 26.51, 26.39809697777778, 26.222650791666666, 26.03966647777778, 25.630687466666664, 25.772088347222226, 26.21797046111111, 26.524999797222225, 26.82, 26.66692480277778, 26.646362938888892, 26.732019, 26.94636551111111, 27.00363777777778, 27.054104552777773, 26.83798663611111, 26.61677137777778, 26.510000000000005, 26.51, 26.509999999999994, 26.51, 26.51, 26.458388844444446, 26.509999999999994, 26.458388222222226, 26.411470844444445, 26.41451448888889, 26.406303155555555, 26.46519497777778, 26.55996826666667, 26.55268915555556, 26.89861211666667, 27.43964352777778, 27.775787575, 27.976669777777776, 28.032362488888886, 27.816713955555556, 27.858960622222224, 27.721979966666666, 27.649612416666663, 27.567749955555556, 27.484994844444444, 27.45, 27.305422133333334, 27.29, 27.188145416666668, 27.031931866666667, 27.03132004444445, 26.980000000000004, 26.89390808888889, 26.82, 26.819999999999997, 26.82, 26.879721244444447, 26.692994108333334, 26.916329730555553, 27.388567111111108, 27.295206905555556, 27.0930664, 27.14, 27.255948375000003, 27.289999999999996, 27.154699247222226, 26.953632711111112, 26.820000000000004, 26.803243499999997, 26.709592708333332, 26.67, 26.670000000000005, 26.67, 26.67, 26.65873262222222, 26.51, 26.413331688888892, 26.311705125000007, 26.2, 26.09783015972222, 25.363764711111113, 25.485727494444447, 26.163020175, 26.50251318888889, 26.862234311111113, 27.03614226666667, 27.25794358888889, 27.63858096666667, 27.80983253333333, 27.76, 27.349512791666665, 27.121091244444447, 26.98, 27.074854000000002, 27.14, 27.07898328888889, 27.07898488888889, 27.07898151111111, 27.093065644444444, 27.022661733333333, 27.032049822222216, 26.99954395555556, 26.94714377777778, 27.03211186666667, 27.184008291666665, 27.341398644444446, 27.613971083333333, 27.984640799999998, 28.13635475555555, 28.21363905, 28.6118868, 29.02294545277778, 29.333472441666665, 29.555778, 29.46463553611111, 28.907734444444444, 28.64923828888889, 28.58287617777778, 28.55, 28.51242897777778, 28.512426666666666, 28.487503866666664, 28.390000000000004, 28.39, 28.390000000000004, 28.259745083333332, 28.24289041666666, 28.329562666666664, 28.300747541666663, 28.543711911111114, 28.806787466666666, 29.118571644444444, 29.193374416666664, 29.33, 29.382342844444445, 29.49, 29.489999999999995, 29.6229392, 29.72638279166667, 29.732220708333333, 29.764540625, 29.65, 29.65, 29.649999999999995, 29.603011066666667, 29.56221382222222, 29.36313373333333, 29.35944106666666, 29.269021041666665, 29.219817413888887, 29.141945688888885, 29.14241591111111, 29.18, 29.32151208333333, 29.634370075000003, 29.93838706666667, 30.231324, 30.239154166666665, 30.3374104, 30.46467737777778, 30.646415333333334, 30.66731031111111, 30.835839708333335, 30.858101791666662, 30.798485625, 30.880323916666665, 30.756317208333336, 30.681216355555556, 30.589999999999996, 30.589999999999996, 30.47372142222222, 30.374652888888885, 30.27, 30.244193291666665, 30.212535500000005, 30.12, 30.15965475, 30.418463147222223, 30.54299057777778, 30.631907822222225, 30.43, 30.062170725, 30.31451941111111, 30.32591561111111, 30.238977208333335, 30.12, 29.88944572777778, 29.635475716666665, 29.370276355555553, 29.268333833333333, 29.212865291666663, 29.21964129166667, 29.18, 29.18, 29.214427624999995, 29.224855541666663, 29.18, 29.18, 29.12813102222222, 29.01645265555555, 27.876945574999997, 27.836321955555558, 27.829242444444443, 27.61886113055556, 27.673061969444447, 27.960170888888886, 27.85811137777778, 27.346720519444446, 27.05461789444444, 27.64521445833333, 27.48817768888889, 27.355963066666664, 27.29, 27.29, 27.237193291666664, 27.173938083333333, 27.05334053333333, 26.95862982222222, 26.96549582222222, 26.82, 26.77236158333333, 26.623070666666667, 26.5291432, 25.942860919444445, 25.574131111111114, 25.707607111111113, 25.683089511111113, 25.846678380555556, 26.181944077777775, 26.307742991666665, 24.934811908333334, 24.358566855555555, 25.137401925000002, 25.467860266666666, 25.630976399999998, 25.630978444444445, 25.626286133333334, 25.629441155555554, 25.73, 25.69766208888889, 25.63566382222222, 25.673747733333336, 25.474540755555555, 25.46791711111111, 25.352081555555554, 25.299426444444446, 25.25, 25.25, 25.25, 25.25, 25.264812799999998, 25.32429782222222, 25.33442311111111, 25.383668577777776, 25.374299155555555, 25.314377600000004, 25.316944000000003, 25.175436333333337, 25.205517124999997, 25.13517054166667, 24.990660977777782, 24.94, 24.918616399999998]
corridor_temperature_copie = [27.64418871111111, 27.58596506666667, 27.635512666666664, 27.68, 27.562845200000005, 27.280788133333328, 26.967519288888887, 26.73041164444444, 26.498832666666665, 26.56, 26.728415688888887, 26.711638977777774, 26.795963377777777, 27.245777866666664, 27.5325188, 27.46072293333333, 27.427119555555553, 27.61991622222222, 27.832278177777777, 27.80107991111111, 27.557494622222222, 27.807413600000004, 28.0186804, 28.03317453333333, 27.952863155555555, 27.84543111111111, 27.794065955555556, 27.74597582222222, 27.745976533333334, 27.648862577777777, 27.633085111111107, 27.635540533333334, 27.654205155555555, 27.76906648888889, 27.954872088888887, 28.157022666666666, 28.297843333333333, 28.300393244444447, 28.027539644444445, 28.113328977777776, 28.16, 28.04295288888889, 27.84, 27.69477137777778, 27.610362355555555, 27.511767155555557, 27.360000000000003, 27.327034444444443, 27.25479537777778, 27.09178991111111, 26.889361866666665, 26.89750711111111, 26.618166266666666, 26.56, 26.41575764444444, 26.326249066666666, 26.24, 26.24, 26.287032488888887, 26.28703493333333, 26.398839377777776, 26.4, 26.489391155555555, 26.558027022222223, 26.592950488888892, 26.654119777777776, 26.827259688888887, 26.936486444444444, 26.823516444444444, 26.88, 26.664617155555554, 26.608146844444448, 26.56, 26.49983111111111, 26.4, 26.34911671111111, 26.24, 26.110298266666664, 25.52587404444444, 25.31798137777778, 25.23302462222222, 25.256509733333335, 25.251102266666667, 25.0907676, 25.047306355555556, 25.466485111111112, 25.551166888888886, 25.427982844444447, 25.447327911111117, 25.82106786666667, 25.908383866666668, 25.932202222222223, 26.08, 26.28816604444444, 26.4, 26.48940151111111, 26.489399111111105, 26.445370933333333, 26.50519608888889, 26.515993377777775, 26.406339777777774, 26.4, 26.4, 26.3623596, 26.367068311111108, 26.362364888888887, 26.30725755555555, 26.37513511111111, 26.52575391111111, 26.810117111111108, 27.03203911111111, 27.005585155555558, 26.99598102222222, 27.215280355555553, 27.425786577777778, 27.567114577777776, 27.428074711111112, 27.282336977777774, 27.1459796, 27.04, 26.957872088888887, 26.764951466666663, 26.623778800000004, 26.52706466666666, 26.501376800000003, 26.280168133333333, 26.24, 26.350557111111108, 26.4, 26.367071066666664, 26.29869173333333, 26.192963288888887, 26.22319577777777, 26.08, 26.15635151111111, 26.511135466666666, 26.56, 26.53176737777778, 26.4129556, 26.379435066666666, 26.445376933333332, 26.56, 26.592941822222222, 26.56, 26.60705662222222, 26.56, 26.494122577777777, 26.523961777777778, 26.437637866666666, 26.4, 26.368525555555557, 26.24, 26.160043555555553, 25.931970844444447, 25.92, 25.937917644444447, 26.028274488888886, 26.261379688888887, 26.65740115555555, 27.006320177777777, 27.188838399999998, 27.39660022222222, 27.329334355555552, 26.9483416, 27.06228688888889, 27.137430488888885, 27.11995102222222, 27.199999999999996, 27.339493511111108, 27.402393511111107, 27.390843600000004, 27.52, 27.52, 27.52, 27.421076711111116, 27.490013555555556, 27.284640177777778, 27.306730355555555, 27.303613999999996, 27.2, 27.29419368888889, 27.27355271111111, 27.59914168888889, 27.668341022222226, 28.26893164444444, 28.625934933333333, 28.90259888888889, 29.12, 28.970532266666666, 28.959999999999997, 29.007190933333334, 28.944052666666664, 28.89572768888889, 28.817522000000004, 28.8, 28.8, 28.644947022222222, 28.573648755555553, 28.570326488888888, 28.554011244444442, 28.57109133333333, 28.678363955555557, 28.825622400000004, 29.02291031111111, 29.196586933333332, 29.28, 29.41219968888889, 29.477197155555555, 29.646060177777777, 29.7080376, 29.842616266666667, 30.05393955555555, 29.975073022222222, 30.043161199999997, 30.01420671111111, 29.92, 29.92, 29.870301911111113, 29.760000000000005, 29.76, 29.712110977777776, 29.6, 29.515469688888892, 29.44, 29.44, 29.440000000000005, 29.689539644444448, 29.816697155555563, 30.092687822222217, 30.206914177777776, 30.34791342222222, 30.445705288888888, 30.642747377777773, 30.773542399999997, 31.0036556, 31.09178884444444, 31.231938533333334, 31.241684000000003, 31.296758800000003, 31.1281872, 31.04, 30.89894568888889, 30.88, 30.77843204444444, 30.719999999999995, 30.615301600000002, 30.56, 30.56, 30.56, 30.621466666666667, 30.484153244444443, 30.189663199999995, 30.24, 30.103782977777776, 29.79717604444444, 29.8822096, 29.943624177777785, 29.920000000000005, 29.8952016, 29.56452311111111, 29.237373111111108, 29.12, 29.171112400000005, 29.313045688888895, 29.317768577777777, 29.3531776, 29.440000000000005, 29.440000000000005, 29.44, 29.44, 29.336439644444447, 29.355537511111113, 28.853421333333337, 28.014864622222223, 27.701900444444448, 27.586428177777776, 27.154755466666664, 27.006265733333333, 26.988269422222224, 26.72205071111111, 26.507630044444447, 26.08404391111111, 25.543541200000003, 25.836480844444445, 26.01417124444444, 26.191524488888888, 26.375116888888883, 26.367071199999998, 26.4, 26.4, 26.34936062222222, 26.287038266666663, 26.203328533333334, 26.08, 25.921503644444446, 25.596434933333338, 25.233470488888894, 25.312980355555553, 25.392670711111112, 25.313487555555557, 25.293491777777778, 25.318714799999995, 25.440000000000005, 25.29107022222222, 25.00999911111111, 25.009289911111114, 25.16227728888889, 25.07303728888889, 25.30965191111111, 25.44, 25.471882844444448, 25.6, 25.636999066666668, 25.698900622222222, 25.656805733333332, 25.7409968, 25.694012133333334, 25.576089244444447, 25.377583022222225, 25.24308346666667, 25.23302542222222, 25.28, 25.375684533333338, 25.44, 25.49169035555556, 25.440000000000005, 25.440000000000005, 25.39951466666667, 25.301949688888893, 25.21357288888889, 25.024842044444448, 25.074189244444444, 24.846734044444446, 24.90365608888889, 24.879690088888886, 24.8]
min_Tocrs= 24.8
max_Tocrs= 31.296758800000003
outdoor_temperature_copie  = [22.0, 21.0, 20.0, 19.0, 19.0, 18.0, 18.0, 19.0, 20.0, 22.0, 24.0, 27.0, 29.0, 30.0, 31.0, 32.0, 33.0, 34.0, 33.0, 32.0, 31.0, 29.0, 27.0, 25.0, 24.0, 23.0, 22.0, 22.0, 21.0, 21.0, 22.0, 22.0, 22.0, 22.0, 24.0, 25.0, 26.0, 26.0, 26.0, 26.0, 25.0, 24.0, 23.0, 23.0, 22.0, 21.0, 20.0, 19.0, 18.0, 18.0, 17.0, 16.0, 16.0, 14.0, 14.0, 15.0, 16.0, 18.0, 21.0, 22.0, 23.0, 25.0, 26.0, 27.0, 27.0, 27.0, 26.0, 25.0, 24.0, 23.0, 21.0, 20.0, 19.0, 18.0, 18.0, 17.0, 17.0, 16.0, 16.0, 17.0, 18.0, 20.0, 22.0, 24.0, 26.0, 28.0, 30.0, 30.0, 30.0, 31.0, 31.0, 30.0, 29.0, 27.0, 25.0, 23.0, 23.0, 22.0, 22.0, 22.0, 21.0, 21.0, 22.0, 22.0, 24.0, 25.0, 26.0, 28.0, 28.0, 28.0, 30.0, 31.0, 30.0, 31.0, 31.0, 30.0, 30.0, 27.0, 25.0, 24.0, 23.0, 21.0, 20.0, 19.0, 18.0, 17.0, 18.0, 18.0, 20.0, 21.0, 23.0, 24.0, 25.0, 26.0, 26.0, 28.0, 28.0, 28.0, 28.0, 28.0, 27.0, 24.0, 22.0, 21.0, 20.0, 19.0, 18.0, 18.0, 17.0, 16.0, 17.0, 18.0, 19.0, 21.0, 22.0, 25.0, 27.0, 29.0, 30.0, 31.0, 31.0, 32.0, 32.0, 31.0, 30.0, 27.0, 26.0, 24.0, 23.0, 22.0, 22.0, 22.0, 21.0, 20.0, 21.0, 21.0, 23.0, 24.0, 26.0, 29.0, 31.0, 32.0, 33.0, 34.0, 35.0, 34.0, 34.0, 34.0, 33.0, 30.0, 28.0, 26.0, 25.0, 23.0, 23.0, 22.0, 21.0, 21.0, 21.0, 21.0, 22.0, 24.0, 27.0, 28.0, 30.0, 31.0, 31.0, 31.0, 32.0, 31.0, 32.0, 31.0, 30.0, 28.0, 26.0, 24.0, 23.0, 23.0, 22.0, 21.0, 21.0, 20.0, 21.0, 21.0, 23.0, 24.0, 26.0, 29.0, 32.0, 33.0, 34.0, 35.0, 36.0, 37.0, 37.0, 36.0, 35.0, 31.0, 28.0, 26.0, 25.0, 24.0, 23.0, 22.0, 21.0, 21.0, 22.0, 22.0, 24.0, 25.0, 27.0, 30.0, 32.0, 33.0, 34.0, 34.0, 33.0, 34.0, 34.0, 31.0, 30.0, 28.0, 26.0, 24.0, 23.0, 22.0, 21.0, 21.0, 20.0, 19.0, 19.0, 20.0, 21.0, 20.0, 20.0, 20.0, 19.0, 18.0, 17.0, 18.0, 18.0, 19.0, 19.0, 19.0, 18.0, 18.0, 17.0, 16.0, 16.0, 16.0, 15.0, 15.0, 15.0, 15.0, 15.0, 16.0, 16.0, 16.0, 17.0, 17.0, 18.0, 19.0, 19.0, 20.0, 21.0, 22.0, 21.0, 19.0, 18.0, 16.0, 15.0, 14.0, 13.0, 13.0, 12.0, 12.0, 12.0, 12.0, 12.0, 13.0, 14.0, 16.0, 18.0, 20.0, 20.0, 20.0, 19.0, 20.0, 19.0, 19.0, 18.0, 17.0, 16.0, 15.0, 14.0, 14.0]
min_Touts= 12.0
max_Touts= 37.0
office_power_gains_copie = [451.616114, 451.8969809444444, 452.2798603888889, 452.44805538888886, 452.616114, 452.616114, 455.31606904257944, 460.79872152446194, 466.9704512284371, 805.1753517054763, 913.8549644363168, 778.2108393795504, 611.2851129916935, 593.7224310441826, 718.5802355692904, 721.9442099667235, 715.903165109004, 910.575261934147, 865.7091868887001, 489.14809829142706, 488.4234594318961, 474.70114200083174, 466.26958918428454, 459.72483770203337, 463.36888749093487, 457.10023305733785, 459.1783875135567, 457.90763276654775, 452.1205078888889, 458.03502622051764, 453.0032281405968, 460.97023587493135, 462.9284467869935, 477.67529051036706, 559.9600613884892, 568.6473860548482, 586.1921820818396, 575.3658271227691, 572.8742233344093, 546.0242073829544, 536.8501892413627, 529.978688458673, 521.7781131747861, 476.18423886426893, 466.04438795526016, 461.561872099419, 456.17543078130336, 456.8954894504284, 457.7529165265847, 451.1130637222222, 454.2547702127004, 457.91202195214316, 462.78864677762834, 458.19337931150585, 451.98130830248914, 461.7100364592859, 468.7218572272381, 473.27654088892973, 576.6008571681255, 594.9137966159215, 627.6360770707342, 609.4072636191434, 595.4830232575034, 588.0643172172303, 579.4485795108027, 571.471758698385, 547.480282738152, 470.625861951053, 465.84589035660787, 455.30872776413696, 451.616114, 451.616114, 451.7842220555556, 451.616114, 451.616114, 451.7842176111111, 451.78378566666663, 451.616114, 451.7841848333333, 621.6657067686554, 663.4565670735897, 671.6397625218685, 912.7171776099278, 989.5520375359192, 999.3909655633186, 832.3505846391637, 1033.270377465981, 1013.706453295038, 1184.7420073982048, 1129.0148094606418, 899.4857547840588, 492.1410643896508, 475.9777382857501, 465.25302764405626, 458.09431246095636, 458.096511540125, 451.616114, 451.616114, 451.616114, 451.616114, 451.616114, 451.86346177777773, 451.7049812222222, 460.30569888779524, 467.78399331794196, 672.0431940566673, 702.353196348155, 1058.6780548331583, 907.6709732503125, 904.4017992185238, 964.3164063921977, 1000.6953093405582, 970.8508011152819, 913.1588594568977, 548.8017646467713, 474.55694910452047, 469.2410173216545, 460.8141916057709, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 467.1024293511186, 474.30155938217257, 817.6142148036274, 938.2527078474984, 1121.437134953743, 837.7695365497314, 929.3230633062165, 758.9564164986488, 747.6793741662884, 891.4961050269403, 1065.4526263670691, 575.5857942027463, 491.49390695442236, 486.11551335765057, 472.1230898731832, 465.2834480349003, 466.9871899999999, 459.4906603165741, 457.6161140000002, 457.6161140000002, 457.616114, 457.616114, 457.616114, 457.616114, 469.99905330982216, 483.83132834991613, 664.2076209197872, 807.933918606769, 789.8833804628814, 801.4048903121775, 794.3734373933164, 777.3522530925745, 773.0597198319554, 1115.0322389074295, 1114.9123787784063, 903.7420477127162, 489.7299154427122, 485.05103841706796, 476.7597096218837, 461.6860347806399, 457.616114, 458.1866334367254, 461.4279622891377, 461.4281733118863, 457.616114, 458.3773619053227, 457.616114, 457.616114, 467.79456930660115, 474.56491801880793, 813.7286315804606, 894.8730166508788, 889.6217514302655, 632.3669237033757, 625.024747111097, 954.4587894768638, 951.8211439976005, 888.2036876951711, 888.7964525613038, 747.6659972320765, 642.6357882249216, 483.0564894918848, 474.1519856854861, 463.81947389972083, 457.616114, 459.9441724931412, 457.616114, 457.616114, 458.43115049325485, 457.616114, 457.616114, 457.616114, 466.920940201651, 474.3823086195106, 485.5946958300526, 569.3851702940281, 584.5573054223983, 610.4428123143052, 605.2254432563366, 591.989513776613, 587.4002970148789, 579.2882031806116, 569.9790755114385, 550.3129210344466, 476.508990686085, 470.46762533668294, 460.90007062679746, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 458.2491968225629, 457.616114, 457.616114, 457.616114, 466.80289808921873, 474.31847918681683, 482.2971089937623, 566.4361133481808, 586.5086006207752, 608.5082436522699, 595.3086999995435, 585.3586308620066, 580.0395745191936, 576.0389230252551, 566.2510026944433, 548.6041290514526, 476.4813961194851, 470.4134391082253, 460.80849018889535, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 465.70690866535205, 484.83333317129257, 850.5364250976218, 968.0806395773086, 756.0145475745794, 1083.7099209090131, 960.9047687824091, 1097.0174233840726, 1078.3563455710685, 938.1311424686107, 903.0386992608244, 586.6128286625647, 511.0993270846917, 505.46278470187656, 503.82129355475604, 500.8271554297467, 500.56542110352876, 493.8733510870235, 496.3498948, 496.3498948, 490.9070202776772, 487.20227991645015, 486.9788187999999, 482.2339972907624, 483.1182567875776, 478.64524227201696, 473.4269616407645, 512.86801881618, 509.3990378571851, 519.5014123879049, 669.8950883420544, 875.3479156577873, 848.2398695472075, 806.2798939873171, 501.6048803424032, 489.1604798682074, 465.92211886454317, 462.4675281778322, 458.5840953394993, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 460.63628988849894, 462.959386494882, 619.9811456172677, 680.204397851752, 658.3637666569596, 546.8090609655687, 554.5341735426846, 558.8661321588129, 718.5986996569261, 728.7816662500074, 571.3660573944908, 546.8635005728274, 474.36769135265206, 468.86876578792135, 459.439441728594, 457.2332945555555, 457.49706649999996, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 463.2808474998113, 468.02703773191706, 476.4446347857594, 554.0085136713178, 565.2624296203802, 570.2756435373919, 571.8144144918665, 572.2588494585702, 538.2777696962903, 536.2470192698761, 530.2767009915208, 518.1160828667597, 469.4872784537182, 465.5601487930611, 459.36411490020043, 457.616114, 457.616114]
min_opgs= 451.1130637222222
max_opgs= 1184.7420073982048
office_temperatures_estimated= [28.101280968548465, 28.028834879068793, 28.04855066543783, 27.628524926494908, 27.532364553583623, 27.27142626834241, 27.01026146380384, 26.841381252951685, 26.67571620759281, 26.992176250476952, 27.27597172918117, 27.25485483858921, 27.1674051577381, 27.576953503974025, 27.974075887535864, 27.92254012150527, 27.90743074219299, 28.270568815167923, 28.424750735657543, 28.138851121927026, 27.91006519050195, 28.062516504929622, 28.188901472806428, 28.149647118089423, 28.065937228103447, 27.9461149635747, 27.88483902617535, 27.601438304417492, 27.57562086837121, 27.505331697830307, 27.51377783762959, 27.531087927592257, 27.554462208801795, 27.676563864716982, 27.99363317517053, 28.206377911260994, 28.378332526552192, 28.372097891581777, 28.14119188883427, 28.185042364829524, 28.194818747387444, 28.067605806144297, 27.8650697150687, 27.686769498820645, 27.582551578918793, 27.473367983156123, 27.317414773708954, 27.2706876492258, 27.19048571065484, 27.046380042649, 26.857549282269467, 27.278230836580207, 27.045794418751168, 26.942938960736456, 26.811283121673878, 26.77035273448147, 26.72865756965932, 26.78094680448735, 27.024616184871064, 27.071530920989716, 27.232675656962652, 27.25706843927107, 27.338977370521327, 27.411641540426757, 27.430538930238928, 27.472712857695125, 27.56645271611294, 27.537351282324266, 27.411444842073806, 27.422791963130503, 27.187148526864995, 27.1153274480766, 27.050761195093976, 26.975417273635312, 26.889795584963274, 26.641864498410268, 26.54954687977126, 26.41582868348236, 25.909730127050878, 25.851160528333963, 25.748007968407737, 26.017030525130842, 26.40458261504663, 26.40915009896991, 26.349748629952725, 26.274780566703036, 26.549882403279046, 26.609165289555214, 26.99812236060292, 26.897726214476158, 26.913540688304185, 26.65350084124202, 26.736316680165935, 26.854355410169724, 26.89478609286352, 26.925331742864007, 26.918076233494027, 26.858065747392427, 26.910227267541913, 26.472189714470687, 26.359533096602632, 26.358820152768445, 26.386445038315884, 26.369702790385876, 26.429175343003102, 26.601714473759387, 26.613924466352184, 27.169759609492548, 27.227675748163044, 27.373860965403054, 27.766365934530942, 27.661600443376518, 27.54466351939185, 27.830687865492738, 27.645629121250845, 27.664869774102474, 27.544313985797324, 27.34338933619156, 27.180462595506516, 27.070899070886124, 26.981564234101757, 26.77391803354489, 26.633723736209014, 26.92646946512052, 26.881593726658885, 26.669553982757492, 26.655508850984297, 26.765994582650897, 26.84459938506988, 27.078552015175738, 27.124337753712357, 27.26632907360969, 27.28994727378315, 26.990415422929434, 26.837701681507305, 27.183305073203115, 27.3528370507587, 27.47928713227804, 27.125608182727547, 27.06561769378186, 27.092166669047273, 27.102248404986195, 27.075249088406196, 27.02642805805712, 27.03403428506926, 26.968470678635594, 26.889168113996078, 26.697595697246353, 26.602435315915237, 26.548766028102378, 26.547255712213378, 26.473504581178382, 26.416345820990305, 26.3348888137413, 26.464137441276023, 26.51938962130707, 26.811381521825254, 26.96086581259278, 27.249655142534532, 27.579581624496782, 28.043072438398944, 28.25010193369708, 28.025658125729144, 27.443338617110822, 27.513782265866713, 27.49948062382972, 27.44417735861162, 27.462885787482065, 27.561878960263513, 27.598943477544168, 27.591687516655522, 27.190996713916725, 27.175111813140855, 27.15718409552909, 27.103904721879083, 27.181001625952973, 27.10302171128792, 27.466477224740267, 27.57630697176121, 27.53466441518235, 27.459772119279286, 27.489437590268487, 28.164453245890158, 28.330318154898233, 28.643590557328665, 28.93444141168579, 29.065958025678867, 29.178064307839755, 28.837809539992506, 28.75421258839333, 28.741434556803842, 28.639617361146836, 28.584796945908664, 28.47481737081241, 28.466500300804157, 28.471502804121705, 28.32079823232093, 28.26599707458383, 28.269181840308345, 28.27323628234171, 28.326886140607115, 28.485959025141437, 28.796600029189925, 29.01464123962468, 29.25000795885231, 29.344745510453166, 29.44737814248303, 29.503797940276563, 29.667922473678892, 29.69229547489884, 29.81226779771837, 29.880974554796843, 29.789237547913583, 29.794902462547952, 29.72569167574732, 29.604820099496195, 29.58776172277635, 29.5516347578666, 29.440132108469182, 29.544684426760206, 29.50800726556262, 29.3936908049306, 29.349746976788975, 29.301846325301963, 29.363162767415456, 29.401619446123437, 29.775260096603205, 29.985352770583248, 30.325324241528204, 30.434902243122053, 30.57163109596111, 30.677512798258483, 30.869990543968356, 30.998524350021892, 31.17839189763849, 31.143169109641427, 31.237673602346558, 31.145750233475983, 31.124187224296833, 30.93900753986902, 30.84576474636826, 30.707187083276537, 30.67277829210302, 30.48553147262954, 30.41776758306346, 30.333820497000776, 30.319880094020867, 30.33122911341218, 30.417854367562025, 30.83893648581245, 30.857996152469198, 30.47376153880792, 30.870185138060382, 30.727963864151924, 30.490846905604457, 30.554622549674317, 30.47359386251574, 30.443083622541934, 30.14881639124339, 29.812671651657784, 29.507520100030764, 29.36193732003252, 29.358420509781105, 29.4360231922162, 29.411577617244824, 29.425149335090918, 29.47944642597284, 29.17888366471214, 29.156477037035916, 29.13849345501979, 29.049567188764406, 29.097414598434927, 28.705063231330346, 27.953426903743512, 27.708852646043034, 27.60455067129275, 27.212618226463547, 27.262943605956067, 27.470911956893133, 27.13583827419669, 26.867390417120404, 26.291362947594912, 25.86355404741388, 26.085637822465593, 26.210485153981345, 26.36016870639893, 26.494572283099217, 26.466559112793746, 26.49699903391924, 26.499307281617106, 26.43483328654134, 26.90351096775358, 26.830069558276698, 26.72270397693857, 26.57822254979386, 26.332541477959957, 25.795281255609275, 25.951316817159793, 26.09140441636386, 25.99937574704653, 26.082744222228133, 26.084314596968774, 26.057251287186208, 26.07820159031725, 25.85411265958544, 25.90398782883448, 26.022330266774812, 25.94169428374785, 26.110761865524715, 26.160645782688466, 26.13257696138095, 26.232775810108436, 26.249428289065804, 26.300192242224767, 26.23866110884503, 25.747959347257755, 25.71010160510029, 25.61157973481559, 25.444044234246945, 25.361819897334748, 25.3846629782577, 25.484487642584384, 25.715391505013624, 25.834024593487182, 25.88694451626642, 25.847052283055806, 25.826379238991404, 25.77354063227977, 25.666162617642502, 25.584895877412436, 25.386269540670927, 25.34377092158076, 25.122397032979663, 25.14089560486119, 25.09601562570107, 25.02919044589199]
current_datetimes= [datetime.datetime(2016, 7, 1, 0, 0), datetime.datetime(2016, 7, 1, 1, 0), datetime.datetime(2016, 7, 1, 2, 0), datetime.datetime(2016, 7, 1, 3, 0), datetime.datetime(2016, 7, 1, 4, 0), datetime.datetime(2016, 7, 1, 5, 0), datetime.datetime(2016, 7, 1, 6, 0), datetime.datetime(2016, 7, 1, 7, 0), datetime.datetime(2016, 7, 1, 8, 0), datetime.datetime(2016, 7, 1, 9, 0), datetime.datetime(2016, 7, 1, 10, 0), datetime.datetime(2016, 7, 1, 11, 0), datetime.datetime(2016, 7, 1, 12, 0), datetime.datetime(2016, 7, 1, 13, 0), datetime.datetime(2016, 7, 1, 14, 0), datetime.datetime(2016, 7, 1, 15, 0), datetime.datetime(2016, 7, 1, 16, 0), datetime.datetime(2016, 7, 1, 17, 0), datetime.datetime(2016, 7, 1, 18, 0), datetime.datetime(2016, 7, 1, 19, 0), datetime.datetime(2016, 7, 1, 20, 0), datetime.datetime(2016, 7, 1, 21, 0), datetime.datetime(2016, 7, 1, 22, 0), datetime.datetime(2016, 7, 1, 23, 0), datetime.datetime(2016, 7, 2, 0, 0), datetime.datetime(2016, 7, 2, 1, 0), datetime.datetime(2016, 7, 2, 2, 0), datetime.datetime(2016, 7, 2, 3, 0), datetime.datetime(2016, 7, 2, 4, 0), datetime.datetime(2016, 7, 2, 5, 0), datetime.datetime(2016, 7, 2, 6, 0), datetime.datetime(2016, 7, 2, 7, 0), datetime.datetime(2016, 7, 2, 8, 0), datetime.datetime(2016, 7, 2, 9, 0), datetime.datetime(2016, 7, 2, 10, 0), datetime.datetime(2016, 7, 2, 11, 0), datetime.datetime(2016, 7, 2, 12, 0), datetime.datetime(2016, 7, 2, 13, 0), datetime.datetime(2016, 7, 2, 14, 0), datetime.datetime(2016, 7, 2, 15, 0), datetime.datetime(2016, 7, 2, 16, 0), datetime.datetime(2016, 7, 2, 17, 0), datetime.datetime(2016, 7, 2, 18, 0), datetime.datetime(2016, 7, 2, 19, 0), datetime.datetime(2016, 7, 2, 20, 0), datetime.datetime(2016, 7, 2, 21, 0), datetime.datetime(2016, 7, 2, 22, 0), datetime.datetime(2016, 7, 2, 23, 0), datetime.datetime(2016, 7, 3, 0, 0), datetime.datetime(2016, 7, 3, 1, 0), datetime.datetime(2016, 7, 3, 2, 0), datetime.datetime(2016, 7, 3, 3, 0), datetime.datetime(2016, 7, 3, 4, 0), datetime.datetime(2016, 7, 3, 5, 0), datetime.datetime(2016, 7, 3, 6, 0), datetime.datetime(2016, 7, 3, 7, 0), datetime.datetime(2016, 7, 3, 8, 0), datetime.datetime(2016, 7, 3, 9, 0), datetime.datetime(2016, 7, 3, 10, 0), datetime.datetime(2016, 7, 3, 11, 0), datetime.datetime(2016, 7, 3, 12, 0), datetime.datetime(2016, 7, 3, 13, 0), datetime.datetime(2016, 7, 3, 14, 0), datetime.datetime(2016, 7, 3, 15, 0), datetime.datetime(2016, 7, 3, 16, 0), datetime.datetime(2016, 7, 3, 17, 0), datetime.datetime(2016, 7, 3, 18, 0), datetime.datetime(2016, 7, 3, 19, 0), datetime.datetime(2016, 7, 3, 20, 0), datetime.datetime(2016, 7, 3, 21, 0), datetime.datetime(2016, 7, 3, 22, 0), datetime.datetime(2016, 7, 3, 23, 0), datetime.datetime(2016, 7, 4, 0, 0), datetime.datetime(2016, 7, 4, 1, 0), datetime.datetime(2016, 7, 4, 2, 0), datetime.datetime(2016, 7, 4, 3, 0), datetime.datetime(2016, 7, 4, 4, 0), datetime.datetime(2016, 7, 4, 5, 0), datetime.datetime(2016, 7, 4, 6, 0), datetime.datetime(2016, 7, 4, 7, 0), datetime.datetime(2016, 7, 4, 8, 0), datetime.datetime(2016, 7, 4, 9, 0), datetime.datetime(2016, 7, 4, 10, 0), datetime.datetime(2016, 7, 4, 11, 0), datetime.datetime(2016, 7, 4, 12, 0), datetime.datetime(2016, 7, 4, 13, 0), datetime.datetime(2016, 7, 4, 14, 0), datetime.datetime(2016, 7, 4, 15, 0), datetime.datetime(2016, 7, 4, 16, 0), datetime.datetime(2016, 7, 4, 17, 0), datetime.datetime(2016, 7, 4, 18, 0), datetime.datetime(2016, 7, 4, 19, 0), datetime.datetime(2016, 7, 4, 20, 0), datetime.datetime(2016, 7, 4, 21, 0), datetime.datetime(2016, 7, 4, 22, 0), datetime.datetime(2016, 7, 4, 23, 0), datetime.datetime(2016, 7, 5, 0, 0), datetime.datetime(2016, 7, 5, 1, 0), datetime.datetime(2016, 7, 5, 2, 0), datetime.datetime(2016, 7, 5, 3, 0), datetime.datetime(2016, 7, 5, 4, 0), datetime.datetime(2016, 7, 5, 5, 0), datetime.datetime(2016, 7, 5, 6, 0), datetime.datetime(2016, 7, 5, 7, 0), datetime.datetime(2016, 7, 5, 8, 0), datetime.datetime(2016, 7, 5, 9, 0), datetime.datetime(2016, 7, 5, 10, 0), datetime.datetime(2016, 7, 5, 11, 0), datetime.datetime(2016, 7, 5, 12, 0), datetime.datetime(2016, 7, 5, 13, 0), datetime.datetime(2016, 7, 5, 14, 0), datetime.datetime(2016, 7, 5, 15, 0), datetime.datetime(2016, 7, 5, 16, 0), datetime.datetime(2016, 7, 5, 17, 0), datetime.datetime(2016, 7, 5, 18, 0), datetime.datetime(2016, 7, 5, 19, 0), datetime.datetime(2016, 7, 5, 20, 0), datetime.datetime(2016, 7, 5, 21, 0), datetime.datetime(2016, 7, 5, 22, 0), datetime.datetime(2016, 7, 5, 23, 0), datetime.datetime(2016, 7, 6, 0, 0), datetime.datetime(2016, 7, 6, 1, 0), datetime.datetime(2016, 7, 6, 2, 0), datetime.datetime(2016, 7, 6, 3, 0), datetime.datetime(2016, 7, 6, 4, 0), datetime.datetime(2016, 7, 6, 5, 0), datetime.datetime(2016, 7, 6, 6, 0), datetime.datetime(2016, 7, 6, 7, 0), datetime.datetime(2016, 7, 6, 8, 0), datetime.datetime(2016, 7, 6, 9, 0), datetime.datetime(2016, 7, 6, 10, 0), datetime.datetime(2016, 7, 6, 11, 0), datetime.datetime(2016, 7, 6, 12, 0), datetime.datetime(2016, 7, 6, 13, 0), datetime.datetime(2016, 7, 6, 14, 0), datetime.datetime(2016, 7, 6, 15, 0), datetime.datetime(2016, 7, 6, 16, 0), datetime.datetime(2016, 7, 6, 17, 0), datetime.datetime(2016, 7, 6, 18, 0), datetime.datetime(2016, 7, 6, 19, 0), datetime.datetime(2016, 7, 6, 20, 0), datetime.datetime(2016, 7, 6, 21, 0), datetime.datetime(2016, 7, 6, 22, 0), datetime.datetime(2016, 7, 6, 23, 0), datetime.datetime(2016, 7, 7, 0, 0), datetime.datetime(2016, 7, 7, 1, 0), datetime.datetime(2016, 7, 7, 2, 0), datetime.datetime(2016, 7, 7, 3, 0), datetime.datetime(2016, 7, 7, 4, 0), datetime.datetime(2016, 7, 7, 5, 0), datetime.datetime(2016, 7, 7, 6, 0), datetime.datetime(2016, 7, 7, 7, 0), datetime.datetime(2016, 7, 7, 8, 0), datetime.datetime(2016, 7, 7, 9, 0), datetime.datetime(2016, 7, 7, 10, 0), datetime.datetime(2016, 7, 7, 11, 0), datetime.datetime(2016, 7, 7, 12, 0), datetime.datetime(2016, 7, 7, 13, 0), datetime.datetime(2016, 7, 7, 14, 0), datetime.datetime(2016, 7, 7, 15, 0), datetime.datetime(2016, 7, 7, 16, 0), datetime.datetime(2016, 7, 7, 17, 0), datetime.datetime(2016, 7, 7, 18, 0), datetime.datetime(2016, 7, 7, 19, 0), datetime.datetime(2016, 7, 7, 20, 0), datetime.datetime(2016, 7, 7, 21, 0), datetime.datetime(2016, 7, 7, 22, 0), datetime.datetime(2016, 7, 7, 23, 0), datetime.datetime(2016, 7, 8, 0, 0), datetime.datetime(2016, 7, 8, 1, 0), datetime.datetime(2016, 7, 8, 2, 0), datetime.datetime(2016, 7, 8, 3, 0), datetime.datetime(2016, 7, 8, 4, 0), datetime.datetime(2016, 7, 8, 5, 0), datetime.datetime(2016, 7, 8, 6, 0), datetime.datetime(2016, 7, 8, 7, 0), datetime.datetime(2016, 7, 8, 8, 0), datetime.datetime(2016, 7, 8, 9, 0), datetime.datetime(2016, 7, 8, 10, 0), datetime.datetime(2016, 7, 8, 11, 0), datetime.datetime(2016, 7, 8, 12, 0), datetime.datetime(2016, 7, 8, 13, 0), datetime.datetime(2016, 7, 8, 14, 0), datetime.datetime(2016, 7, 8, 15, 0), datetime.datetime(2016, 7, 8, 16, 0), datetime.datetime(2016, 7, 8, 17, 0), datetime.datetime(2016, 7, 8, 18, 0), datetime.datetime(2016, 7, 8, 19, 0), datetime.datetime(2016, 7, 8, 20, 0), datetime.datetime(2016, 7, 8, 21, 0), datetime.datetime(2016, 7, 8, 22, 0), datetime.datetime(2016, 7, 8, 23, 0), datetime.datetime(2016, 7, 9, 0, 0), datetime.datetime(2016, 7, 9, 1, 0), datetime.datetime(2016, 7, 9, 2, 0), datetime.datetime(2016, 7, 9, 3, 0), datetime.datetime(2016, 7, 9, 4, 0), datetime.datetime(2016, 7, 9, 5, 0), datetime.datetime(2016, 7, 9, 6, 0), datetime.datetime(2016, 7, 9, 7, 0), datetime.datetime(2016, 7, 9, 8, 0), datetime.datetime(2016, 7, 9, 9, 0), datetime.datetime(2016, 7, 9, 10, 0), datetime.datetime(2016, 7, 9, 11, 0), datetime.datetime(2016, 7, 9, 12, 0), datetime.datetime(2016, 7, 9, 13, 0), datetime.datetime(2016, 7, 9, 14, 0), datetime.datetime(2016, 7, 9, 15, 0), datetime.datetime(2016, 7, 9, 16, 0), datetime.datetime(2016, 7, 9, 17, 0), datetime.datetime(2016, 7, 9, 18, 0), datetime.datetime(2016, 7, 9, 19, 0), datetime.datetime(2016, 7, 9, 20, 0), datetime.datetime(2016, 7, 9, 21, 0), datetime.datetime(2016, 7, 9, 22, 0), datetime.datetime(2016, 7, 9, 23, 0), datetime.datetime(2016, 7, 10, 0, 0), datetime.datetime(2016, 7, 10, 1, 0), datetime.datetime(2016, 7, 10, 2, 0), datetime.datetime(2016, 7, 10, 3, 0), datetime.datetime(2016, 7, 10, 4, 0), datetime.datetime(2016, 7, 10, 5, 0), datetime.datetime(2016, 7, 10, 6, 0), datetime.datetime(2016, 7, 10, 7, 0), datetime.datetime(2016, 7, 10, 8, 0), datetime.datetime(2016, 7, 10, 9, 0), datetime.datetime(2016, 7, 10, 10, 0), datetime.datetime(2016, 7, 10, 11, 0), datetime.datetime(2016, 7, 10, 12, 0), datetime.datetime(2016, 7, 10, 13, 0), datetime.datetime(2016, 7, 10, 14, 0), datetime.datetime(2016, 7, 10, 15, 0), datetime.datetime(2016, 7, 10, 16, 0), datetime.datetime(2016, 7, 10, 17, 0), datetime.datetime(2016, 7, 10, 18, 0), datetime.datetime(2016, 7, 10, 19, 0), datetime.datetime(2016, 7, 10, 20, 0), datetime.datetime(2016, 7, 10, 21, 0), datetime.datetime(2016, 7, 10, 22, 0), datetime.datetime(2016, 7, 10, 23, 0), datetime.datetime(2016, 7, 11, 0, 0), datetime.datetime(2016, 7, 11, 1, 0), datetime.datetime(2016, 7, 11, 2, 0), datetime.datetime(2016, 7, 11, 3, 0), datetime.datetime(2016, 7, 11, 4, 0), datetime.datetime(2016, 7, 11, 5, 0), datetime.datetime(2016, 7, 11, 6, 0), datetime.datetime(2016, 7, 11, 7, 0), datetime.datetime(2016, 7, 11, 8, 0), datetime.datetime(2016, 7, 11, 9, 0), datetime.datetime(2016, 7, 11, 10, 0), datetime.datetime(2016, 7, 11, 11, 0), datetime.datetime(2016, 7, 11, 12, 0), datetime.datetime(2016, 7, 11, 13, 0), datetime.datetime(2016, 7, 11, 14, 0), datetime.datetime(2016, 7, 11, 15, 0), datetime.datetime(2016, 7, 11, 16, 0), datetime.datetime(2016, 7, 11, 17, 0), datetime.datetime(2016, 7, 11, 18, 0), datetime.datetime(2016, 7, 11, 19, 0), datetime.datetime(2016, 7, 11, 20, 0), datetime.datetime(2016, 7, 11, 21, 0), datetime.datetime(2016, 7, 11, 22, 0), datetime.datetime(2016, 7, 11, 23, 0), datetime.datetime(2016, 7, 12, 0, 0), datetime.datetime(2016, 7, 12, 1, 0), datetime.datetime(2016, 7, 12, 2, 0), datetime.datetime(2016, 7, 12, 3, 0), datetime.datetime(2016, 7, 12, 4, 0), datetime.datetime(2016, 7, 12, 5, 0), datetime.datetime(2016, 7, 12, 6, 0), datetime.datetime(2016, 7, 12, 7, 0), datetime.datetime(2016, 7, 12, 8, 0), datetime.datetime(2016, 7, 12, 9, 0), datetime.datetime(2016, 7, 12, 10, 0), datetime.datetime(2016, 7, 12, 11, 0), datetime.datetime(2016, 7, 12, 12, 0), datetime.datetime(2016, 7, 12, 13, 0), datetime.datetime(2016, 7, 12, 14, 0), datetime.datetime(2016, 7, 12, 15, 0), datetime.datetime(2016, 7, 12, 16, 0), datetime.datetime(2016, 7, 12, 17, 0), datetime.datetime(2016, 7, 12, 18, 0), datetime.datetime(2016, 7, 12, 19, 0), datetime.datetime(2016, 7, 12, 20, 0), datetime.datetime(2016, 7, 12, 21, 0), datetime.datetime(2016, 7, 12, 22, 0), datetime.datetime(2016, 7, 12, 23, 0), datetime.datetime(2016, 7, 13, 0, 0), datetime.datetime(2016, 7, 13, 1, 0), datetime.datetime(2016, 7, 13, 2, 0), datetime.datetime(2016, 7, 13, 3, 0), datetime.datetime(2016, 7, 13, 4, 0), datetime.datetime(2016, 7, 13, 5, 0), datetime.datetime(2016, 7, 13, 6, 0), datetime.datetime(2016, 7, 13, 7, 0), datetime.datetime(2016, 7, 13, 8, 0), datetime.datetime(2016, 7, 13, 9, 0), datetime.datetime(2016, 7, 13, 10, 0), datetime.datetime(2016, 7, 13, 11, 0), datetime.datetime(2016, 7, 13, 12, 0), datetime.datetime(2016, 7, 13, 13, 0), datetime.datetime(2016, 7, 13, 14, 0), datetime.datetime(2016, 7, 13, 15, 0), datetime.datetime(2016, 7, 13, 16, 0), datetime.datetime(2016, 7, 13, 17, 0), datetime.datetime(2016, 7, 13, 18, 0), datetime.datetime(2016, 7, 13, 19, 0), datetime.datetime(2016, 7, 13, 20, 0), datetime.datetime(2016, 7, 13, 21, 0), datetime.datetime(2016, 7, 13, 22, 0), datetime.datetime(2016, 7, 13, 23, 0), datetime.datetime(2016, 7, 14, 0, 0), datetime.datetime(2016, 7, 14, 1, 0), datetime.datetime(2016, 7, 14, 2, 0), datetime.datetime(2016, 7, 14, 3, 0), datetime.datetime(2016, 7, 14, 4, 0), datetime.datetime(2016, 7, 14, 5, 0), datetime.datetime(2016, 7, 14, 6, 0), datetime.datetime(2016, 7, 14, 7, 0), datetime.datetime(2016, 7, 14, 8, 0), datetime.datetime(2016, 7, 14, 9, 0), datetime.datetime(2016, 7, 14, 10, 0), datetime.datetime(2016, 7, 14, 11, 0), datetime.datetime(2016, 7, 14, 12, 0), datetime.datetime(2016, 7, 14, 13, 0), datetime.datetime(2016, 7, 14, 14, 0), datetime.datetime(2016, 7, 14, 15, 0), datetime.datetime(2016, 7, 14, 16, 0), datetime.datetime(2016, 7, 14, 17, 0), datetime.datetime(2016, 7, 14, 18, 0), datetime.datetime(2016, 7, 14, 19, 0), datetime.datetime(2016, 7, 14, 20, 0), datetime.datetime(2016, 7, 14, 21, 0), datetime.datetime(2016, 7, 14, 22, 0), datetime.datetime(2016, 7, 14, 23, 0)]
print(len(corridor_temperature_copie))
print(len(current_datetimes))
print('mean_Tout_copie=', np.mean(outdoor_temperature_copie))
print('std_Tout_copie=', np.std(outdoor_temperature_copie))
corridor_temperature = [27.64418871111111, 27.58596506666667, 27.635512666666664, 27.68, 27.562845200000005, 27.280788133333328, 26.967519288888887, 26.73041164444444, 26.498832666666665, 26.56, 26.728415688888887, 26.711638977777774, 26.795963377777777, 27.245777866666664, 27.5325188, 27.46072293333333, 27.427119555555553, 27.61991622222222, 27.832278177777777, 27.80107991111111, 27.557494622222222, 27.807413600000004, 28.0186804, 28.03317453333333, 27.952863155555555, 27.84543111111111, 27.794065955555556, 27.74597582222222, 27.745976533333334, 27.648862577777777, 27.633085111111107, 27.635540533333334, 27.654205155555555, 27.76906648888889, 27.954872088888887, 28.157022666666666, 28.297843333333333, 28.300393244444447, 28.027539644444445, 28.113328977777776, 28.16, 28.04295288888889, 27.84, 27.69477137777778, 27.610362355555555, 27.511767155555557, 27.360000000000003, 27.327034444444443, 27.25479537777778, 27.09178991111111, 26.889361866666665, 26.89750711111111, 26.618166266666666, 26.56, 26.41575764444444, 26.326249066666666, 26.24, 26.24, 26.287032488888887, 26.28703493333333, 26.398839377777776, 26.4, 26.489391155555555, 26.558027022222223, 26.592950488888892, 26.654119777777776, 26.827259688888887, 26.936486444444444, 26.823516444444444, 26.88, 26.664617155555554, 26.608146844444448, 26.56, 26.49983111111111, 26.4, 26.34911671111111, 26.24, 26.110298266666664, 25.52587404444444, 25.31798137777778, 25.23302462222222, 25.256509733333335, 25.251102266666667, 25.0907676, 25.047306355555556, 25.466485111111112, 25.551166888888886, 25.427982844444447, 25.447327911111117, 25.82106786666667, 25.908383866666668, 25.932202222222223, 26.08, 26.28816604444444, 26.4, 26.48940151111111, 26.489399111111105, 26.445370933333333, 26.50519608888889, 26.515993377777775, 26.406339777777774, 26.4, 26.4, 26.3623596, 26.367068311111108, 26.362364888888887, 26.30725755555555, 26.37513511111111, 26.52575391111111, 26.810117111111108, 27.03203911111111, 27.005585155555558, 26.99598102222222, 27.215280355555553, 27.425786577777778, 27.567114577777776, 27.428074711111112, 27.282336977777774, 27.1459796, 27.04, 26.957872088888887, 26.764951466666663, 26.623778800000004, 26.52706466666666, 26.501376800000003, 26.280168133333333, 26.24, 26.350557111111108, 26.4, 26.367071066666664, 26.29869173333333, 26.192963288888887, 26.22319577777777, 26.08, 26.15635151111111, 26.511135466666666, 26.56, 26.53176737777778, 26.4129556, 26.379435066666666, 26.445376933333332, 26.56, 26.592941822222222, 26.56, 26.60705662222222, 26.56, 26.494122577777777, 26.523961777777778, 26.437637866666666, 26.4, 26.368525555555557, 26.24, 26.160043555555553, 25.931970844444447, 25.92, 25.937917644444447, 26.028274488888886, 26.261379688888887, 26.65740115555555, 27.006320177777777, 27.188838399999998, 27.39660022222222, 27.329334355555552, 26.9483416, 27.06228688888889, 27.137430488888885, 27.11995102222222, 27.199999999999996, 27.339493511111108, 27.402393511111107, 27.390843600000004, 27.52, 27.52, 27.52, 27.421076711111116, 27.490013555555556, 27.284640177777778, 27.306730355555555, 27.303613999999996, 27.2, 27.29419368888889, 27.27355271111111, 27.59914168888889, 27.668341022222226, 28.26893164444444, 28.625934933333333, 28.90259888888889, 29.12, 28.970532266666666, 28.959999999999997, 29.007190933333334, 28.944052666666664, 28.89572768888889, 28.817522000000004, 28.8, 28.8, 28.644947022222222, 28.573648755555553, 28.570326488888888, 28.554011244444442, 28.57109133333333, 28.678363955555557, 28.825622400000004, 29.02291031111111, 29.196586933333332, 29.28, 29.41219968888889, 29.477197155555555, 29.646060177777777, 29.7080376, 29.842616266666667, 30.05393955555555, 29.975073022222222, 30.043161199999997, 30.01420671111111, 29.92, 29.92, 29.870301911111113, 29.760000000000005, 29.76, 29.712110977777776, 29.6, 29.515469688888892, 29.44, 29.44, 29.440000000000005, 29.689539644444448, 29.816697155555563, 30.092687822222217, 30.206914177777776, 30.34791342222222, 30.445705288888888, 30.642747377777773, 30.773542399999997, 31.0036556, 31.09178884444444, 31.231938533333334, 31.241684000000003, 31.296758800000003, 31.1281872, 31.04, 30.89894568888889, 30.88, 30.77843204444444, 30.719999999999995, 30.615301600000002, 30.56, 30.56, 30.56, 30.621466666666667, 30.484153244444443, 30.189663199999995, 30.24, 30.103782977777776, 29.79717604444444, 29.8822096, 29.943624177777785, 29.920000000000005, 29.8952016, 29.56452311111111, 29.237373111111108, 29.12, 29.171112400000005, 29.313045688888895, 29.317768577777777, 29.3531776, 29.440000000000005, 29.440000000000005, 29.44, 29.44, 29.336439644444447, 29.355537511111113, 28.853421333333337, 28.014864622222223, 27.701900444444448, 27.586428177777776, 27.154755466666664, 27.006265733333333, 26.988269422222224, 26.72205071111111, 26.507630044444447, 26.08404391111111, 25.543541200000003, 25.836480844444445, 26.01417124444444, 26.191524488888888, 26.375116888888883, 26.367071199999998, 26.4, 26.4, 26.34936062222222, 26.287038266666663, 26.203328533333334, 26.08, 25.921503644444446, 25.596434933333338, 25.233470488888894, 25.312980355555553, 25.392670711111112, 25.313487555555557, 25.293491777777778, 25.318714799999995, 25.440000000000005, 25.29107022222222, 25.00999911111111, 25.009289911111114, 25.16227728888889, 25.07303728888889, 25.30965191111111, 25.44, 25.471882844444448, 25.6, 25.636999066666668, 25.698900622222222, 25.656805733333332, 25.7409968, 25.694012133333334, 25.576089244444447, 25.377583022222225, 25.24308346666667, 25.23302542222222, 25.28, 25.375684533333338, 25.44, 25.49169035555556, 25.440000000000005, 25.440000000000005, 25.39951466666667, 25.301949688888893, 25.21357288888889, 25.024842044444448, 25.074189244444444, 24.846734044444446, 24.90365608888889, 24.879690088888886, 24.8]

outdoor_temperature = [22.0, 21.0, 20.0, 19.0, 19.0, 18.0, 18.0, 19.0, 20.0, 22.0, 24.0, 27.0, 29.0, 30.0, 31.0, 32.0, 33.0, 34.0, 33.0, 32.0, 31.0, 29.0, 27.0, 25.0, 24.0, 23.0, 22.0, 22.0, 21.0, 21.0, 22.0, 22.0, 22.0, 22.0, 24.0, 25.0, 26.0, 26.0, 26.0, 26.0, 25.0, 24.0, 23.0, 23.0, 22.0, 21.0, 20.0, 19.0, 18.0, 18.0, 17.0, 16.0, 16.0, 14.0, 14.0, 15.0, 16.0, 18.0, 21.0, 22.0, 23.0, 25.0, 26.0, 27.0, 27.0, 27.0, 26.0, 25.0, 24.0, 23.0, 21.0, 20.0, 19.0, 18.0, 18.0, 17.0, 17.0, 16.0, 16.0, 17.0, 18.0, 20.0, 22.0, 24.0, 26.0, 28.0, 30.0, 30.0, 30.0, 31.0, 31.0, 30.0, 29.0, 27.0, 25.0, 23.0, 23.0, 22.0, 22.0, 22.0, 21.0, 21.0, 22.0, 22.0, 24.0, 25.0, 26.0, 28.0, 28.0, 28.0, 30.0, 31.0, 30.0, 31.0, 31.0, 30.0, 30.0, 27.0, 25.0, 24.0, 23.0, 21.0, 20.0, 19.0, 18.0, 17.0, 18.0, 18.0, 20.0, 21.0, 23.0, 24.0, 25.0, 26.0, 26.0, 28.0, 28.0, 28.0, 28.0, 28.0, 27.0, 24.0, 22.0, 21.0, 20.0, 19.0, 18.0, 18.0, 17.0, 16.0, 17.0, 18.0, 19.0, 21.0, 22.0, 25.0, 27.0, 29.0, 30.0, 31.0, 31.0, 32.0, 32.0, 31.0, 30.0, 27.0, 26.0, 24.0, 23.0, 22.0, 22.0, 22.0, 21.0, 20.0, 21.0, 21.0, 23.0, 24.0, 26.0, 29.0, 31.0, 32.0, 33.0, 34.0, 35.0, 34.0, 34.0, 34.0, 33.0, 30.0, 28.0, 26.0, 25.0, 23.0, 23.0, 22.0, 21.0, 21.0, 21.0, 21.0, 22.0, 24.0, 27.0, 28.0, 30.0, 31.0, 31.0, 31.0, 32.0, 31.0, 32.0, 31.0, 30.0, 28.0, 26.0, 24.0, 23.0, 23.0, 22.0, 21.0, 21.0, 20.0, 21.0, 21.0, 23.0, 24.0, 26.0, 29.0, 32.0, 33.0, 34.0, 35.0, 36.0, 37.0, 37.0, 36.0, 35.0, 31.0, 28.0, 26.0, 25.0, 24.0, 23.0, 22.0, 21.0, 21.0, 22.0, 22.0, 24.0, 25.0, 27.0, 30.0, 32.0, 33.0, 34.0, 34.0, 33.0, 34.0, 34.0, 31.0, 30.0, 28.0, 26.0, 24.0, 23.0, 22.0, 21.0, 21.0, 20.0, 19.0, 19.0, 20.0, 21.0, 20.0, 20.0, 20.0, 19.0, 18.0, 17.0, 18.0, 18.0, 19.0, 19.0, 19.0, 18.0, 18.0, 17.0, 16.0, 16.0, 16.0, 15.0, 15.0, 15.0, 15.0, 15.0, 16.0, 16.0, 16.0, 17.0, 17.0, 18.0, 19.0, 19.0, 20.0, 21.0, 22.0, 21.0, 19.0, 18.0, 16.0, 15.0, 14.0, 13.0, 13.0, 12.0, 12.0, 12.0, 12.0, 12.0, 13.0, 14.0, 16.0, 18.0, 20.0, 20.0, 20.0, 19.0, 20.0, 19.0, 19.0, 18.0, 17.0, 16.0, 15.0, 14.0, 14.0]

office_power_gains = [451.616114, 451.8969809444444, 452.2798603888889, 452.44805538888886, 452.616114, 452.616114, 455.31606904257944, 460.79872152446194, 466.9704512284371, 805.1753517054763, 913.8549644363168, 778.2108393795504, 611.2851129916935, 593.7224310441826, 718.5802355692904, 721.9442099667235, 715.903165109004, 910.575261934147, 865.7091868887001, 489.14809829142706, 488.4234594318961, 474.70114200083174, 466.26958918428454, 459.72483770203337, 463.36888749093487, 457.10023305733785, 459.1783875135567, 457.90763276654775, 452.1205078888889, 458.03502622051764, 453.0032281405968, 460.97023587493135, 462.9284467869935, 477.67529051036706, 559.9600613884892, 568.6473860548482, 586.1921820818396, 575.3658271227691, 572.8742233344093, 546.0242073829544, 536.8501892413627, 529.978688458673, 521.7781131747861, 476.18423886426893, 466.04438795526016, 461.561872099419, 456.17543078130336, 456.8954894504284, 457.7529165265847, 451.1130637222222, 454.2547702127004, 457.91202195214316, 462.78864677762834, 458.19337931150585, 451.98130830248914, 461.7100364592859, 468.7218572272381, 473.27654088892973, 576.6008571681255, 594.9137966159215, 627.6360770707342, 609.4072636191434, 595.4830232575034, 588.0643172172303, 579.4485795108027, 571.471758698385, 547.480282738152, 470.625861951053, 465.84589035660787, 455.30872776413696, 451.616114, 451.616114, 451.7842220555556, 451.616114, 451.616114, 451.7842176111111, 451.78378566666663, 451.616114, 451.7841848333333, 621.6657067686554, 663.4565670735897, 671.6397625218685, 912.7171776099278, 989.5520375359192, 999.3909655633186, 832.3505846391637, 1033.270377465981, 1013.706453295038, 1184.7420073982048, 1129.0148094606418, 899.4857547840588, 492.1410643896508, 475.9777382857501, 465.25302764405626, 458.09431246095636, 458.096511540125, 451.616114, 451.616114, 451.616114, 451.616114, 451.616114, 451.86346177777773, 451.7049812222222, 460.30569888779524, 467.78399331794196, 672.0431940566673, 702.353196348155, 1058.6780548331583, 907.6709732503125, 904.4017992185238, 964.3164063921977, 1000.6953093405582, 970.8508011152819, 913.1588594568977, 548.8017646467713, 474.55694910452047, 469.2410173216545, 460.8141916057709, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 467.1024293511186, 474.30155938217257, 817.6142148036274, 938.2527078474984, 1121.437134953743, 837.7695365497314, 929.3230633062165, 758.9564164986488, 747.6793741662884, 891.4961050269403, 1065.4526263670691, 575.5857942027463, 491.49390695442236, 486.11551335765057, 472.1230898731832, 465.2834480349003, 466.9871899999999, 459.4906603165741, 457.6161140000002, 457.6161140000002, 457.616114, 457.616114, 457.616114, 457.616114, 469.99905330982216, 483.83132834991613, 664.2076209197872, 807.933918606769, 789.8833804628814, 801.4048903121775, 794.3734373933164, 777.3522530925745, 773.0597198319554, 1115.0322389074295, 1114.9123787784063, 903.7420477127162, 489.7299154427122, 485.05103841706796, 476.7597096218837, 461.6860347806399, 457.616114, 458.1866334367254, 461.4279622891377, 461.4281733118863, 457.616114, 458.3773619053227, 457.616114, 457.616114, 467.79456930660115, 474.56491801880793, 813.7286315804606, 894.8730166508788, 889.6217514302655, 632.3669237033757, 625.024747111097, 954.4587894768638, 951.8211439976005, 888.2036876951711, 888.7964525613038, 747.6659972320765, 642.6357882249216, 483.0564894918848, 474.1519856854861, 463.81947389972083, 457.616114, 459.9441724931412, 457.616114, 457.616114, 458.43115049325485, 457.616114, 457.616114, 457.616114, 466.920940201651, 474.3823086195106, 485.5946958300526, 569.3851702940281, 584.5573054223983, 610.4428123143052, 605.2254432563366, 591.989513776613, 587.4002970148789, 579.2882031806116, 569.9790755114385, 550.3129210344466, 476.508990686085, 470.46762533668294, 460.90007062679746, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 458.2491968225629, 457.616114, 457.616114, 457.616114, 466.80289808921873, 474.31847918681683, 482.2971089937623, 566.4361133481808, 586.5086006207752, 608.5082436522699, 595.3086999995435, 585.3586308620066, 580.0395745191936, 576.0389230252551, 566.2510026944433, 548.6041290514526, 476.4813961194851, 470.4134391082253, 460.80849018889535, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 465.70690866535205, 484.83333317129257, 850.5364250976218, 968.0806395773086, 756.0145475745794, 1083.7099209090131, 960.9047687824091, 1097.0174233840726, 1078.3563455710685, 938.1311424686107, 903.0386992608244, 586.6128286625647, 511.0993270846917, 505.46278470187656, 503.82129355475604, 500.8271554297467, 500.56542110352876, 493.8733510870235, 496.3498948, 496.3498948, 490.9070202776772, 487.20227991645015, 486.9788187999999, 482.2339972907624, 483.1182567875776, 478.64524227201696, 473.4269616407645, 512.86801881618, 509.3990378571851, 519.5014123879049, 669.8950883420544, 875.3479156577873, 848.2398695472075, 806.2798939873171, 501.6048803424032, 489.1604798682074, 465.92211886454317, 462.4675281778322, 458.5840953394993, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 460.63628988849894, 462.959386494882, 619.9811456172677, 680.204397851752, 658.3637666569596, 546.8090609655687, 554.5341735426846, 558.8661321588129, 718.5986996569261, 728.7816662500074, 571.3660573944908, 546.8635005728274, 474.36769135265206, 468.86876578792135, 459.439441728594, 457.2332945555555, 457.49706649999996, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 463.2808474998113, 468.02703773191706, 476.4446347857594, 554.0085136713178, 565.2624296203802, 570.2756435373919, 571.8144144918665, 572.2588494585702, 538.2777696962903, 536.2470192698761, 530.2767009915208, 518.1160828667597, 469.4872784537182, 465.5601487930611, 459.36411490020043, 457.616114, 457.616114]

def derive(x, y):
    xnew = np.zeros(len(x) - 1)
    yp = np.zeros(len(x) - 1)
    ds=[]
    for i in range(len(y) - 1):
        xnew[i] = (x[i] + x[i+1]) / 2
        yp[i] = (y[i + 1] - y[i]) / (x[i + 1] - x[i])  ## calcul des valeurs de la drive
        d=yp[i]
        ds.append(d)
    print('ds=', ds)
    plt.plot(x[0:len(x) - 1], yp, label="f'(x)")
    plt.legend()
    plt.show()
    return ds
# a1=derive(range(len(current_datetimes)), outdoor_temperature_copie)
# a2=derive(range(len(current_datetimes)), corridor_temperature_copie)
# a3=derive(range(len(current_datetimes)), office_power_gains_copie)
for i in range(len(corridor_temperature)):
    if i>=10 and i<=102:
        corridor_temperature[i]=np.nan
        outdoor_temperature[i] = np.nan
        office_power_gains[i] = np.nan
print('corridor_temperature=', corridor_temperature)
print('outdoor_temperature=', outdoor_temperature)
print('office_power_gains=', office_power_gains )
imouted_outdoor_temperature_with= [32.739884767954635, 17.846908736875555, 12.654647414394036, 32.95066462370856, 27.773727200475857, 29.699939118606807, 30.198779019965084, 27.923031205932876, 15.151851742485068, 17.433239883006657, 18.904952569121953]
#complete_outdoor_temperature= [22.0, 21.0, 20.0, 19.0, 19.0, 18.0, 18.0, 19.0, 20.0, 22.0, 32.739884767954635, 17.846908736875555, 12.654647414394036, 32.95066462370856, 27.773727200475857, 29.699939118606807, 30.198779019965084, 27.923031205932876, 15.151851742485068, 17.433239883006657, 18.904952569121953, 29.0, 27.0, 25.0, 24.0, 23.0, 22.0, 22.0, 21.0, 21.0, 22.0, 22.0, 22.0, 22.0, 24.0, 25.0, 26.0, 26.0, 26.0, 26.0, 25.0, 24.0, 23.0, 23.0, 22.0, 21.0, 20.0, 19.0, 18.0, 18.0, 17.0, 16.0, 16.0, 14.0, 14.0, 15.0, 16.0, 18.0, 21.0, 22.0, 23.0, 25.0, 26.0, 27.0, 27.0, 27.0, 26.0, 25.0, 24.0, 23.0, 21.0, 20.0, 19.0, 18.0, 18.0, 17.0, 17.0, 16.0, 16.0, 17.0, 18.0, 20.0, 22.0, 24.0, 26.0, 28.0, 30.0, 30.0, 30.0, 31.0, 31.0, 30.0, 29.0, 27.0, 25.0, 23.0, 23.0, 22.0, 22.0, 22.0, 21.0, 21.0, 22.0, 22.0, 24.0, 25.0, 26.0, 28.0, 28.0, 28.0, 30.0, 31.0, 30.0, 31.0, 31.0, 30.0, 30.0, 27.0, 25.0, 24.0, 23.0, 21.0, 20.0, 19.0, 18.0, 17.0, 18.0, 18.0, 20.0, 21.0, 23.0, 24.0, 25.0, 26.0, 26.0, 28.0, 28.0, 28.0, 28.0, 28.0, 27.0, 24.0, 22.0, 21.0, 20.0, 19.0, 18.0, 18.0, 17.0, 16.0, 17.0, 18.0, 19.0, 21.0, 22.0, 25.0, 27.0, 29.0, 30.0, 31.0, 31.0, 32.0, 32.0, 31.0, 30.0, 27.0, 26.0, 24.0, 23.0, 22.0, 22.0, 22.0, 21.0, 20.0, 21.0, 21.0, 23.0, 24.0, 26.0, 29.0, 31.0, 32.0, 33.0, 34.0, 35.0, 34.0, 34.0, 34.0, 33.0, 30.0, 28.0, 26.0, 25.0, 23.0, 23.0, 22.0, 21.0, 21.0, 21.0, 21.0, 22.0, 24.0, 27.0, 28.0, 30.0, 31.0, 31.0, 31.0, 32.0, 31.0, 32.0, 31.0, 30.0, 28.0, 26.0, 24.0, 23.0, 23.0, 22.0, 21.0, 21.0, 20.0, 21.0, 21.0, 23.0, 24.0, 26.0, 29.0, 32.0, 33.0, 34.0, 35.0, 36.0, 37.0, 37.0, 36.0, 35.0, 31.0, 28.0, 26.0, 25.0, 24.0, 23.0, 22.0, 21.0, 21.0, 22.0, 22.0, 24.0, 25.0, 27.0, 30.0, 32.0, 33.0, 34.0, 34.0, 33.0, 34.0, 34.0, 31.0, 30.0, 28.0, 26.0, 24.0, 23.0, 22.0, 21.0, 21.0, 20.0, 19.0, 19.0, 20.0, 21.0, 20.0, 20.0, 20.0, 19.0, 18.0, 17.0, 18.0, 18.0, 19.0, 19.0, 19.0, 18.0, 18.0, 17.0, 16.0, 16.0, 16.0, 15.0, 15.0, 15.0, 15.0, 15.0, 16.0, 16.0, 16.0, 17.0, 17.0, 18.0, 19.0, 19.0, 20.0, 21.0, 22.0, 21.0, 19.0, 18.0, 16.0, 15.0, 14.0, 13.0, 13.0, 12.0, 12.0, 12.0, 12.0, 12.0, 13.0, 14.0, 16.0, 18.0, 20.0, 20.0, 20.0, 19.0, 20.0, 19.0, 19.0, 18.0, 17.0, 16.0, 15.0, 14.0, 14.0]

print(len(office_power_gains_copie))

#complete_outdoor_temperature= [22.0, 21.0, 20.0, 19.0, 19.0, 18.0, 18.0, 19.0, 20.0, 22.0, 23.534889949623825, 23.480034854358113, 23.3997208220718, 23.644542717473513, 25.600847097423948, 27.87971795690692, 26.082447050072005, 26.55956781519064, 25.225075149043374, 28.0221471857447, 28.69441123018152, 29.0, 27.0, 25.0, 24.0, 23.0, 22.0, 22.0, 21.0, 21.0, 22.0, 22.0, 22.0, 22.0, 24.0, 25.0, 26.0, 26.0, 26.0, 26.0, 25.0, 24.0, 23.0, 23.0, 22.0, 21.0, 20.0, 19.0, 18.0, 18.0, 17.0, 16.0, 16.0, 14.0, 14.0, 15.0, 16.0, 18.0, 21.0, 22.0, 23.0, 25.0, 26.0, 27.0, 27.0, 27.0, 26.0, 25.0, 24.0, 23.0, 21.0, 20.0, 19.0, 18.0, 18.0, 17.0, 17.0, 16.0, 16.0, 17.0, 18.0, 20.0, 22.0, 24.0, 26.0, 28.0, 30.0, 30.0, 30.0, 31.0, 31.0, 30.0, 29.0, 27.0, 25.0, 23.0, 23.0, 22.0, 22.0, 22.0, 21.0, 21.0, 22.0, 22.0, 24.0, 25.0, 26.0, 28.0, 28.0, 28.0, 30.0, 31.0, 30.0, 31.0, 31.0, 30.0, 30.0, 27.0, 25.0, 24.0, 23.0, 21.0, 20.0, 19.0, 18.0, 17.0, 18.0, 18.0, 20.0, 21.0, 23.0, 24.0, 25.0, 26.0, 26.0, 28.0, 28.0, 28.0, 28.0, 28.0, 27.0, 24.0, 22.0, 21.0, 20.0, 19.0, 18.0, 18.0, 17.0, 16.0, 17.0, 18.0, 19.0, 21.0, 22.0, 25.0, 27.0, 29.0, 30.0, 31.0, 31.0, 32.0, 32.0, 31.0, 30.0, 27.0, 26.0, 24.0, 23.0, 22.0, 22.0, 22.0, 21.0, 20.0, 21.0, 21.0, 23.0, 24.0, 26.0, 29.0, 31.0, 32.0, 33.0, 34.0, 35.0, 34.0, 34.0, 34.0, 33.0, 30.0, 28.0, 26.0, 25.0, 23.0, 23.0, 22.0, 21.0, 21.0, 21.0, 21.0, 22.0, 24.0, 27.0, 28.0, 30.0, 31.0, 31.0, 31.0, 32.0, 31.0, 32.0, 31.0, 30.0, 28.0, 26.0, 24.0, 23.0, 23.0, 22.0, 21.0, 21.0, 20.0, 21.0, 21.0, 23.0, 24.0, 26.0, 29.0, 32.0, 33.0, 34.0, 35.0, 36.0, 37.0, 37.0, 36.0, 35.0, 31.0, 28.0, 26.0, 25.0, 24.0, 23.0, 22.0, 21.0, 21.0, 22.0, 22.0, 24.0, 25.0, 27.0, 30.0, 32.0, 33.0, 34.0, 34.0, 33.0, 34.0, 34.0, 31.0, 30.0, 28.0, 26.0, 24.0, 23.0, 22.0, 21.0, 21.0, 20.0, 19.0, 19.0, 20.0, 21.0, 20.0, 20.0, 20.0, 19.0, 18.0, 17.0, 18.0, 18.0, 19.0, 19.0, 19.0, 18.0, 18.0, 17.0, 16.0, 16.0, 16.0, 15.0, 15.0, 15.0, 15.0, 15.0, 16.0, 16.0, 16.0, 17.0, 17.0, 18.0, 19.0, 19.0, 20.0, 21.0, 22.0, 21.0, 19.0, 18.0, 16.0, 15.0, 14.0, 13.0, 13.0, 12.0, 12.0, 12.0, 12.0, 12.0, 13.0, 14.0, 16.0, 18.0, 20.0, 20.0, 20.0, 19.0, 20.0, 19.0, 19.0, 18.0, 17.0, 16.0, 15.0, 14.0, 14.0]
complete_outdoor_temperature= [22.0, 21.0, 20.0, 19.0, 19.0, 18.0, 18.0, 19.0, 20.0, 22.0, 22.60949517683015, 22.088404452666236, 22.548618402823262, 22.224297719317594, 22.324842607325532, 22.578376760357795, 22.952541286539418, 22.647917351539256, 22.474725068547446, 22.3653979739546, 22.687803789859256, 22.232165323001436, 22.59224966009583, 22.672033204947752, 22.216192180091564, 22.814669787223675, 22.84280313005057, 22.68202885668637, 22.679390551832086, 22.908200294977224, 22.02800486748837, 22.410038709953504, 22.323101186404298, 22.708584119908917, 22.166603183590503, 22.30979895957253, 22.6527580214868, 22.78766391076041, 22.673955802589155, 22.076921578173472, 22.893057663663495, 22.169856088395633, 22.444695346910628, 22.772653704750873, 22.076051354824386, 22.525307305625763, 22.124525869914734, 22.20474389322764, 22.45605522170354, 22.95662787620867, 22.77296423967379, 22.66879195160987, 22.058148068248606, 22.3863405585706, 22.688137872930042, 22.783351758358183, 22.37216447072373, 22.631546611179928, 22.174686243126008, 22.73074504616146, 22.83310611983338, 22.528153037217475, 22.322291080409386, 22.432024455081514, 22.23642301634711, 22.313265828404862, 22.53997291710434, 22.044952745078525, 22.953131057529358, 22.411940240507406, 22.72783610060981, 22.78589167762184, 22.519429439052825, 22.992368171901013, 22.596074808222333, 22.97696835549212, 22.79550704766262, 22.09894886621832, 22.75985801422622, 22.629717193360644, 22.11130514974632, 22.57464876026831, 22.01432451495394, 22.46016958251199, 22.263703829025253, 22.546918553378784, 22.339256327864263, 22.918308640311817, 22.3014335865359, 22.690877685388674, 22.065120914898543, 22.745211303904803, 22.726180751242854, 22.23538725343621, 22.334770845283085, 22.686679012182484, 22.53532570566209, 22.287077086969425, 22.10720470579863, 22.797387065831305, 22.091196366389756, 22.57507038733891, 22.55638178773587, 22.0, 24.0, 25.0, 26.0, 28.0, 28.0, 28.0, 30.0, 31.0, 30.0, 31.0, 31.0, 30.0, 30.0, 27.0, 25.0, 24.0, 23.0, 21.0, 20.0, 19.0, 18.0, 17.0, 18.0, 18.0, 20.0, 21.0, 23.0, 24.0, 25.0, 26.0, 26.0, 28.0, 28.0, 28.0, 28.0, 28.0, 27.0, 24.0, 22.0, 21.0, 20.0, 19.0, 18.0, 18.0, 17.0, 16.0, 17.0, 18.0, 19.0, 21.0, 22.0, 25.0, 27.0, 29.0, 30.0, 31.0, 31.0, 32.0, 32.0, 31.0, 30.0, 27.0, 26.0, 24.0, 23.0, 22.0, 22.0, 22.0, 21.0, 20.0, 21.0, 21.0, 23.0, 24.0, 26.0, 29.0, 31.0, 32.0, 33.0, 34.0, 35.0, 34.0, 34.0, 34.0, 33.0, 30.0, 28.0, 26.0, 25.0, 23.0, 23.0, 22.0, 21.0, 21.0, 21.0, 21.0, 22.0, 24.0, 27.0, 28.0, 30.0, 31.0, 31.0, 31.0, 32.0, 31.0, 32.0, 31.0, 30.0, 28.0, 26.0, 24.0, 23.0, 23.0, 22.0, 21.0, 21.0, 20.0, 21.0, 21.0, 23.0, 24.0, 26.0, 29.0, 32.0, 33.0, 34.0, 35.0, 36.0, 37.0, 37.0, 36.0, 35.0, 31.0, 28.0, 26.0, 25.0, 24.0, 23.0, 22.0, 21.0, 21.0, 22.0, 22.0, 24.0, 25.0, 27.0, 30.0, 32.0, 33.0, 34.0, 34.0, 33.0, 34.0, 34.0, 31.0, 30.0, 28.0, 26.0, 24.0, 23.0, 22.0, 21.0, 21.0, 20.0, 19.0, 19.0, 20.0, 21.0, 20.0, 20.0, 20.0, 19.0, 18.0, 17.0, 18.0, 18.0, 19.0, 19.0, 19.0, 18.0, 18.0, 17.0, 16.0, 16.0, 16.0, 15.0, 15.0, 15.0, 15.0, 15.0, 16.0, 16.0, 16.0, 17.0, 17.0, 18.0, 19.0, 19.0, 20.0, 21.0, 22.0, 21.0, 19.0, 18.0, 16.0, 15.0, 14.0, 13.0, 13.0, 12.0, 12.0, 12.0, 12.0, 12.0, 13.0, 14.0, 16.0, 18.0, 20.0, 20.0, 20.0, 19.0, 20.0, 19.0, 19.0, 18.0, 17.0, 16.0, 15.0, 14.0, 14.0]
#a4=derive(range(len(current_datetimes)), complete_outdoor_temperature)

complete_office_power_gains= [451.616114, 451.8969809444444, 452.2798603888889, 452.44805538888886, 452.616114, 452.616114, 455.31606904257944, 460.79872152446194, 466.9704512284371, 805.1753517054763, 786.5006982355674, 521.3399985683436, 608.1763300205968, 593.8994518153805, 590.2776448827938, 564.5110705908626, 716.8666879618619, 604.1257500817746, 542.2927313447775, 682.7176231377865, 643.8830624183678, 721.0411438141182, 474.04703630657843, 661.1182414256838, 609.8313813264141, 618.718763397608, 645.9377460608106, 615.8833066419533, 798.2702552287831, 732.952077956305, 693.0901736458867, 708.4237995715345, 799.9589137197707, 523.9127328316658, 500.9451335437782, 580.3755775721716, 577.9247979867764, 464.0269240027052, 564.7689652083028, 585.0925794404994, 502.96867631347936, 775.1609307780875, 650.6545840824527, 772.2371875006368, 666.2263954355544, 481.1045903433543, 557.4092667714565, 518.3330392811242, 724.2047483533886, 674.8682880390929, 525.0637669988641, 750.3494201979914, 680.8375207387763, 632.4886448819128, 724.5416930623257, 748.2065550809641, 582.867538849757, 571.7872115475398, 759.4220008232018, 664.4424192254228, 752.8470671600686, 589.2070064353896, 512.8101149622582, 613.7673680841935, 460.7648223655925, 461.8341505550102, 548.9802115636177, 631.9763040667686, 547.4125243339143, 734.6295315505237, 676.9934541466813, 642.0250006899724, 474.3932166061705, 585.0525030747384, 668.2463142293705, 628.2203459705948, 753.3049888054115, 712.0547343122984, 798.0221684574668, 682.2777553947881, 774.4832213154199, 548.2847539459558, 534.2736120739017, 633.0522713700315, 577.4794827597216, 468.14504491665167, 500.37474620129046, 712.9377620304147, 722.5344704811475, 717.9309309027542, 652.2571157352367, 757.2928613144264, 511.323107453921, 762.8429419050108, 732.0359300100844, 801.5865616446566, 475.4045823050377, 534.8340630809355, 591.0988960629412, 645.1753776641981, 538.0830082741797, 595.3986655681833, 766.2884625184092, 460.30569888779524, 467.78399331794196, 672.0431940566673, 702.353196348155, 1058.6780548331583, 907.6709732503125, 904.4017992185238, 964.3164063921977, 1000.6953093405582, 970.8508011152819, 913.1588594568977, 548.8017646467713, 474.55694910452047, 469.2410173216545, 460.8141916057709, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 467.1024293511186, 474.30155938217257, 817.6142148036274, 938.2527078474984, 1121.437134953743, 837.7695365497314, 929.3230633062165, 758.9564164986488, 747.6793741662884, 891.4961050269403, 1065.4526263670691, 575.5857942027463, 491.49390695442236, 486.11551335765057, 472.1230898731832, 465.2834480349003, 466.9871899999999, 459.4906603165741, 457.6161140000002, 457.6161140000002, 457.616114, 457.616114, 457.616114, 457.616114, 469.99905330982216, 483.83132834991613, 664.2076209197872, 807.933918606769, 789.8833804628814, 801.4048903121775, 794.3734373933164, 777.3522530925745, 773.0597198319554, 1115.0322389074295, 1114.9123787784063, 903.7420477127162, 489.7299154427122, 485.05103841706796, 476.7597096218837, 461.6860347806399, 457.616114, 458.1866334367254, 461.4279622891377, 461.4281733118863, 457.616114, 458.3773619053227, 457.616114, 457.616114, 467.79456930660115, 474.56491801880793, 813.7286315804606, 894.8730166508788, 889.6217514302655, 632.3669237033757, 625.024747111097, 954.4587894768638, 951.8211439976005, 888.2036876951711, 888.7964525613038, 747.6659972320765, 642.6357882249216, 483.0564894918848, 474.1519856854861, 463.81947389972083, 457.616114, 459.9441724931412, 457.616114, 457.616114, 458.43115049325485, 457.616114, 457.616114, 457.616114, 466.920940201651, 474.3823086195106, 485.5946958300526, 569.3851702940281, 584.5573054223983, 610.4428123143052, 605.2254432563366, 591.989513776613, 587.4002970148789, 579.2882031806116, 569.9790755114385, 550.3129210344466, 476.508990686085, 470.46762533668294, 460.90007062679746, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 458.2491968225629, 457.616114, 457.616114, 457.616114, 466.80289808921873, 474.31847918681683, 482.2971089937623, 566.4361133481808, 586.5086006207752, 608.5082436522699, 595.3086999995435, 585.3586308620066, 580.0395745191936, 576.0389230252551, 566.2510026944433, 548.6041290514526, 476.4813961194851, 470.4134391082253, 460.80849018889535, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 465.70690866535205, 484.83333317129257, 850.5364250976218, 968.0806395773086, 756.0145475745794, 1083.7099209090131, 960.9047687824091, 1097.0174233840726, 1078.3563455710685, 938.1311424686107, 903.0386992608244, 586.6128286625647, 511.0993270846917, 505.46278470187656, 503.82129355475604, 500.8271554297467, 500.56542110352876, 493.8733510870235, 496.3498948, 496.3498948, 490.9070202776772, 487.20227991645015, 486.9788187999999, 482.2339972907624, 483.1182567875776, 478.64524227201696, 473.4269616407645, 512.86801881618, 509.3990378571851, 519.5014123879049, 669.8950883420544, 875.3479156577873, 848.2398695472075, 806.2798939873171, 501.6048803424032, 489.1604798682074, 465.92211886454317, 462.4675281778322, 458.5840953394993, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 460.63628988849894, 462.959386494882, 619.9811456172677, 680.204397851752, 658.3637666569596, 546.8090609655687, 554.5341735426846, 558.8661321588129, 718.5986996569261, 728.7816662500074, 571.3660573944908, 546.8635005728274, 474.36769135265206, 468.86876578792135, 459.439441728594, 457.2332945555555, 457.49706649999996, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 457.616114, 463.2808474998113, 468.02703773191706, 476.4446347857594, 554.0085136713178, 565.2624296203802, 570.2756435373919, 571.8144144918665, 572.2588494585702, 538.2777696962903, 536.2470192698761, 530.2767009915208, 518.1160828667597, 469.4872784537182, 465.5601487930611, 459.36411490020043, 457.616114, 457.616114]


#a5=derive(range(len(current_datetimes)), complete_office_power_gains)

complete_corridor_temperature= [27.64418871111111, 27.58596506666667, 27.635512666666664, 27.68, 27.562845200000005, 27.280788133333328, 26.967519288888887, 26.73041164444444, 26.498832666666665, 26.56, 25.214585857587306, 24.706356457407146, 24.728607272782632, 24.627770581999993, 24.75524584841566, 24.612544161581205, 24.817734549023008, 24.73695476792937, 24.5775169670877, 25.163825413584284, 24.75169737993762, 25.316710467850214, 25.210153502678498, 24.83820323274933, 24.687594759214285, 24.640808867108642, 24.710344003636056, 25.3981830113348, 25.122813346753286, 24.945431492577303, 24.921179757826877, 24.85206137339307, 24.757521842022054, 24.80762575515778, 25.00980534516089, 24.912315909068557, 25.159351009010603, 24.744085417583946, 24.920571075923885, 25.142138138620453, 24.894327665417322, 25.276299262491083, 25.4417961214919, 25.39929062370359, 24.702757461006758, 24.679197935887657, 25.00114707366322, 25.130250579711095, 24.788615554001016, 25.037166241396026, 24.97673173809651, 25.05616438244797, 24.743199223143222, 25.018781991739033, 25.221579928612364, 25.014676899687817, 25.322401450971075, 25.138146332864444, 25.459821272754844, 25.22924566688792, 25.159698426476684, 24.55472670196341, 24.669560909489483, 25.057279832082145, 25.437698908765103, 25.182249330299406, 25.08036918552282, 25.047837384634725, 24.686526127952252, 24.973493776860945, 25.19079793795514, 24.534877985681376, 25.174908565841722, 25.451942452410496, 24.843198131105925, 25.385866533033905, 25.161007917488636, 24.917522363787736, 24.698581753844014, 24.99282824732662, 24.93126541304828, 25.23211932429825, 24.82541688566679, 24.624596521701754, 24.936718051428112, 25.336278418794418, 24.503889211818557, 25.42916240645285, 25.172910894304593, 25.40727971448512, 25.411946126732477, 24.846704529387935, 25.362508342097428, 25.435766733699094, 25.1046251253056, 25.21818753799861, 24.535527613507526, 24.551324958589557, 25.03705149508236, 24.549645201375217, 25.459576222009932, 24.829437292387418, 24.85347991016685, 26.3623596, 26.367068311111108, 26.362364888888887, 26.30725755555555, 26.37513511111111, 26.52575391111111, 26.810117111111108, 27.03203911111111, 27.005585155555558, 26.99598102222222, 27.215280355555553, 27.425786577777778, 27.567114577777776, 27.428074711111112, 27.282336977777774, 27.1459796, 27.04, 26.957872088888887, 26.764951466666663, 26.623778800000004, 26.52706466666666, 26.501376800000003, 26.280168133333333, 26.24, 26.350557111111108, 26.4, 26.367071066666664, 26.29869173333333, 26.192963288888887, 26.22319577777777, 26.08, 26.15635151111111, 26.511135466666666, 26.56, 26.53176737777778, 26.4129556, 26.379435066666666, 26.445376933333332, 26.56, 26.592941822222222, 26.56, 26.60705662222222, 26.56, 26.494122577777777, 26.523961777777778, 26.437637866666666, 26.4, 26.368525555555557, 26.24, 26.160043555555553, 25.931970844444447, 25.92, 25.937917644444447, 26.028274488888886, 26.261379688888887, 26.65740115555555, 27.006320177777777, 27.188838399999998, 27.39660022222222, 27.329334355555552, 26.9483416, 27.06228688888889, 27.137430488888885, 27.11995102222222, 27.199999999999996, 27.339493511111108, 27.402393511111107, 27.390843600000004, 27.52, 27.52, 27.52, 27.421076711111116, 27.490013555555556, 27.284640177777778, 27.306730355555555, 27.303613999999996, 27.2, 27.29419368888889, 27.27355271111111, 27.59914168888889, 27.668341022222226, 28.26893164444444, 28.625934933333333, 28.90259888888889, 29.12, 28.970532266666666, 28.959999999999997, 29.007190933333334, 28.944052666666664, 28.89572768888889, 28.817522000000004, 28.8, 28.8, 28.644947022222222, 28.573648755555553, 28.570326488888888, 28.554011244444442, 28.57109133333333, 28.678363955555557, 28.825622400000004, 29.02291031111111, 29.196586933333332, 29.28, 29.41219968888889, 29.477197155555555, 29.646060177777777, 29.7080376, 29.842616266666667, 30.05393955555555, 29.975073022222222, 30.043161199999997, 30.01420671111111, 29.92, 29.92, 29.870301911111113, 29.760000000000005, 29.76, 29.712110977777776, 29.6, 29.515469688888892, 29.44, 29.44, 29.440000000000005, 29.689539644444448, 29.816697155555563, 30.092687822222217, 30.206914177777776, 30.34791342222222, 30.445705288888888, 30.642747377777773, 30.773542399999997, 31.0036556, 31.09178884444444, 31.231938533333334, 31.241684000000003, 31.296758800000003, 31.1281872, 31.04, 30.89894568888889, 30.88, 30.77843204444444, 30.719999999999995, 30.615301600000002, 30.56, 30.56, 30.56, 30.621466666666667, 30.484153244444443, 30.189663199999995, 30.24, 30.103782977777776, 29.79717604444444, 29.8822096, 29.943624177777785, 29.920000000000005, 29.8952016, 29.56452311111111, 29.237373111111108, 29.12, 29.171112400000005, 29.313045688888895, 29.317768577777777, 29.3531776, 29.440000000000005, 29.440000000000005, 29.44, 29.44, 29.336439644444447, 29.355537511111113, 28.853421333333337, 28.014864622222223, 27.701900444444448, 27.586428177777776, 27.154755466666664, 27.006265733333333, 26.988269422222224, 26.72205071111111, 26.507630044444447, 26.08404391111111, 25.543541200000003, 25.836480844444445, 26.01417124444444, 26.191524488888888, 26.375116888888883, 26.367071199999998, 26.4, 26.4, 26.34936062222222, 26.287038266666663, 26.203328533333334, 26.08, 25.921503644444446, 25.596434933333338, 25.233470488888894, 25.312980355555553, 25.392670711111112, 25.313487555555557, 25.293491777777778, 25.318714799999995, 25.440000000000005, 25.29107022222222, 25.00999911111111, 25.009289911111114, 25.16227728888889, 25.07303728888889, 25.30965191111111, 25.44, 25.471882844444448, 25.6, 25.636999066666668, 25.698900622222222, 25.656805733333332, 25.7409968, 25.694012133333334, 25.576089244444447, 25.377583022222225, 25.24308346666667, 25.23302542222222, 25.28, 25.375684533333338, 25.44, 25.49169035555556, 25.440000000000005, 25.440000000000005, 25.39951466666667, 25.301949688888893, 25.21357288888889, 25.024842044444448, 25.074189244444444, 24.846734044444446, 24.90365608888889, 24.879690088888886, 24.8]

# a5=derive(range(len(current_datetimes)), complete_corridor_temperature)
# a6=derive(range(len(current_datetimes)), corridor_temperature_copie)
print('mean')
print(np.mean(outdoor_temperature_copie))
print(np.mean(complete_outdoor_temperature))
print(np.mean(corridor_temperature_copie))
print(np.mean(complete_corridor_temperature))
print(np.mean(office_power_gains_copie))
print(np.mean(complete_office_power_gains))
print('std')
print(np.std(outdoor_temperature_copie))
print(np.std(complete_outdoor_temperature))
print(np.std(corridor_temperature_copie))
print(np.std(complete_corridor_temperature))
print(np.std(office_power_gains_copie))
print(np.std(complete_office_power_gains))
#print('histogram representation')


office_power_gains = complete_office_power_gains
for i in range(len(office_power_gains)):
    office_power_gains[i]+=150
    complete_corridor_temperature[i]+=0.5
    complete_outdoor_temperature[i] += 0.2
Tout = complete_outdoor_temperature
Tcor = complete_corridor_temperature
matrixA_thermics = -2.1578228994330876e-06
matrixB_thermics_phi_in = 3.1753190677875445e-09
matrixB_thermics_Tout = 5.770162506326268e-08
matrixB_thermics_Tn = 2.1001212743698246e-06
matrixC_thermics = 0.12182074134801915
matrixD_thermics_phi_in = 0.001292274424219787
matrixD_thermics_Tout = 0.023483099717953423
matrixD_thermics_Tn = 0.8546961589340274
#
R= 0.001292274424219787
Ri= 0.010608
sample_time=60*60
alphak = math.exp(matrixA_thermics * sample_time)
Kobserver = Ri * alphak / R
betak = (alphak - 1) / matrixA_thermics
office_temperatures_estimated=[]
for k in range(len(current_datetimes)):
        #-----------crer des DM sur les entres---------------
        structure_temerature=25*np.ones(336)
        ss= alphak * structure_temerature[k] + betak * (matrixB_thermics_phi_in * complete_office_power_gains[k] + matrixB_thermics_Tout * complete_outdoor_temperature[k] + matrixB_thermics_Tn * complete_corridor_temperature[k])
        #print('size_structure_temerature=', np.size(structure_temerature))
        office_temperature_estimated=matrixC_thermics * ss + matrixD_thermics_phi_in * complete_office_power_gains[k] + matrixD_thermics_Tout * complete_outdoor_temperature[k] + matrixD_thermics_Tn * complete_corridor_temperature[k]
        office_temperatures_estimated.append(office_temperature_estimated)
        #print(office_temperatures_estimated)
#print('histogramme de la drive')
#aa=derive(range(len(current_datetimes)), corridor_temperature_copie)
#ab=derive(range(len(current_datetimes)), complete_corridor_temperature)
a2= list(scipy.stats.norm.pdf(corridor_temperature_copie, 2, 2))
#print(a2)
dc=[3.976932906208477e-37, 5.7739803493124255e-37, 4.204368133689307e-37, 3.160602667617709e-37, 6.693794392466233e-37, 4.019656911979689e-36, 2.875610820240527e-35, 1.254390672893027e-34, 5.215876746029844e-34, 3.5844586126059897e-34, 1.269965376781596e-34, 1.4087035692919397e-34, 8.359658374897192e-35, 5.014406765467699e-36, 8.124410672508964e-37, 1.2839305281801655e-36, 1.5899085875247082e-36, 4.646198334800813e-37, 1.1855872782170327e-37, 1.4500487181213048e-37, 6.926615474615011e-37, 1.391995232296396e-37, 3.5419647961677144e-38, 3.223203641379161e-38, 5.431740266322363e-38, 1.0890154836922855e-37, 1.5171489944727121e-37, 2.0681486750273355e-37, 2.068139209003376e-37, 3.859523712420727e-37, 4.270287639412519e-37, 4.203617325104687e-37, 3.7295308810790867e-37, 1.7824062253408985e-37, 5.361397540076899e-38, 1.4368000766950896e-38, 5.706822648488468e-39, 5.611944717641948e-39, 3.3435908260948416e-38, 1.9115301219386096e-38, 1.4090952334316787e-38, 3.0244323573103667e-38, 1.1279058993287017e-37, 2.8745703151552626e-37, 4.9393326409948466e-37, 9.274602979241183e-37, 2.434588221501023e-36, 3.0000933812338396e-36, 4.736940377656591e-36, 1.3213479940178636e-35, 4.68024647804605e-35, 4.448913893661755e-35, 2.5068917931986956e-34, 3.5844586126059897e-34, 8.668144716310582e-34, 1.4954439934721975e-33, 2.5244478234715445e-33, 2.5244478234715445e-33, 1.8978638524381142e-33, 1.8978356844073214e-33, 9.610796242874788e-34, 9.542995673184082e-34, 5.526322315042517e-34, 3.628143355108874e-34, 2.9275202376598014e-34, 2.008934929691429e-34, 6.884617558548793e-35, 3.4898125242159955e-35, 7.046432480246688e-35, 4.960926615982547e-35, 1.8830447586741672e-34, 2.66631150446287e-34, 3.5844586126059897e-34, 5.184077396982299e-34, 9.542995673184082e-34, 1.3011998217460561e-33, 2.5244478234715445e-33, 5.5284751803242095e-33, 1.7944677765644437e-31, 6.0618814806704395e-31, 9.938071939183229e-31, 8.670240649418905e-31, 8.947128046903073e-31, 2.2648839726177023e-30, 2.9100660985471813e-30, 2.5435525238686388e-31, 1.546306896535825e-31, 3.1875565423474502e-31, 2.8459698268304684e-31, 3.1274812667798815e-32, 1.8575991466140702e-32, 1.6109907483479148e-32, 6.635422578391426e-33, 1.8848460184264138e-33, 9.542995673184082e-34, 5.525971955512348e-34, 5.526053152752693e-34, 7.233966043472116e-34, 5.0164776730503205e-34, 4.695318909161726e-34, 9.180941685495255e-34, 9.542995673184082e-34, 9.542995673184082e-34, 1.2003962313390608e-33, 1.1664560036752676e-33, 1.2003575642501837e-33, 1.6784590175509143e-33, 1.1105116937057859e-33, 4.422618026749071e-34, 7.657255713727941e-35, 1.9213340904027606e-35, 2.2670545175486637e-35, 2.4073080538857603e-35, 6.078039588380899e-36, 1.603437475192893e-36, 6.513612695646559e-37, 1.580284185000969e-36, 3.9804992526048796e-36, 9.402178131669779e-36, 1.8279452851137828e-35, 3.054054769593035e-35, 1.0130390817589824e-34, 2.4217662979295293e-34, 4.387215760127657e-34, 5.135228346742731e-34, 1.9786242543517164e-33, 2.5244478234715445e-33, 1.2898402872217033e-33, 9.542995673184082e-34, 1.1664364234716689e-33, 1.768125350124145e-33, 3.3561291388249284e-33, 2.7949679621131136e-33, 6.635422578391426e-33, 4.187305984398491e-33, 4.837205678602311e-34, 3.5844586126059897e-34, 4.262501154063684e-34, 8.81766686358242e-34, 1.0817883851615897e-33, 7.233700792827927e-34, 3.5844586126059897e-34, 2.9276762339023266e-34, 3.5844586126059897e-34, 2.684254395582492e-34, 3.5844586126059897e-34, 5.3685204069984586e-34, 4.4714815125797435e-34, 7.583989536268788e-34, 9.542995673184082e-34, 1.1561466661890689e-33, 2.5244478234715445e-33, 4.09496954126242e-33, 1.6132224488188817e-32, 1.7329709747656662e-32, 1.5568267547247215e-32, 9.056434421346548e-33, 2.2175529296591245e-33, 1.9687099485355965e-34, 2.256661337732692e-35, 7.179861845898617e-36, 1.930086418035978e-36, 2.956719190621744e-36, 3.241136264490823e-35, 1.5898100257056373e-35, 9.921222861777434e-36, 1.1072728730874947e-35, 6.69243399627163e-36, 2.7724633168055504e-36, 1.8603750782220427e-36, 2.0019271548923467e-36, 8.800096849204964e-37, 8.800096849204964e-37, 8.800096849204964e-37, 1.6521624241953035e-36, 1.0654302958463033e-36, 3.9229699963509996e-36, 3.411501349753628e-36, 3.479426395761837e-36, 6.69243399627144e-36, 3.6930339823014276e-36, 4.2077131437761656e-36, 5.307154553729661e-37, 3.406196840599137e-37, 6.900795504336687e-39, 6.512781441523037e-40, 1.0228467118380031e-40, 2.3563247574043614e-41, 6.473401830513196e-41, 6.949732009098252e-41, 5.054898814211041e-41, 7.738101211377151e-41, 1.0712187474969686e-40, 1.8110055227170336e-40, 2.0366738387639226e-40, 2.0366738387639226e-40, 5.738327427135087e-40, 9.220847776242535e-40, 9.426612349126793e-40, 1.0505289158726956e-39, 9.378840820284659e-40, 4.592525487317466e-40, 1.7152620410725547e-40, 4.54575071904448e-41, 1.4008938486289083e-41, 7.938213039921326e-42, 3.21523908064762e-42, 2.058428343006904e-42, 6.4301178473295745e-43, 4.1877132850718974e-43, 1.6448730588591104e-43, 3.757364589590516e-44, 6.527797213952621e-44, 4.052350636508186e-44, 4.963872446809849e-44, 9.59131861090358e-44, 9.59131861090358e-44, 1.356431301528594e-43, 2.9208459551188834e-43, 2.920845955118966e-43, 4.071194435092428e-43, 8.838112051267506e-43, 1.5822599401871158e-42, 2.6572405363637784e-42, 2.6572405363637784e-42, 2.6572405363637032e-42, 4.759999531513306e-43, 1.969920535236129e-43, 2.862712904891955e-44, 1.28134133716644e-44, 4.729024983750683e-45, 2.3619198832685392e-45, 5.7889816515920005e-46, 2.26423235049786e-46, 4.2969646862658086e-47, 2.265717273256259e-47, 8.15572347685424e-48, 7.594986476505556e-48, 5.0758257790623804e-48, 1.7384648647646132e-47, 3.3009610619125062e-47, 9.16856619478942e-47, 1.0513011252720016e-46, 2.1859700675666505e-46, 3.3268588281552563e-46, 7.045526360351578e-46, 1.0460733327401255e-45, 1.0460733327401255e-45, 1.0460733327401255e-45, 6.741512424465215e-46, 1.7965536923875897e-45, 1.4470390899955126e-44, 1.0145634058875101e-44, 2.6480702580510527e-44, 2.256237897847705e-43, 1.2484112746925595e-43, 8.132690912654961e-44, 9.591318610903306e-44, 1.1402975611493212e-43, 1.1287619347476208e-42, 1.0614027154306507e-41, 2.3563247574043614e-41, 1.6656816970742539e-41, 6.3355719356517e-42, 6.134497595941121e-42, 4.816018694958816e-42, 2.6572405363637032e-42, 2.6572405363637032e-42, 2.6572405363637784e-42, 2.6572405363637784e-42, 5.399852496267055e-42, 4.738919360790827e-42, 1.4233857189911621e-40, 3.6309711827127584e-38, 2.745880860928561e-37, 5.7569013215412366e-37, 8.897428572440329e-36, 2.257429553459067e-35, 2.5261374873612285e-35, 1.3209266893732578e-34, 4.942227540092297e-34, 6.475824698234475e-33, 1.6173041199071808e-31, 2.8531107238478303e-32, 9.856880954455366e-33, 3.385461446252119e-33, 1.1106350142593512e-33, 1.1664354760507352e-33, 9.542995673184082e-34, 9.542995673184082e-34, 1.2992692826426266e-33, 1.897797274125434e-33, 3.152145535879921e-33, 6.635422578391426e-33, 1.7174578196357473e-32, 1.1842201701246075e-31, 9.912368286855428e-31, 6.241187924232196e-31, 3.919334207068001e-31, 6.222765478736227e-31, 6.9915849009351895e-31, 6.036018939053199e-31, 2.9708620673083307e-31, 7.0908708220761995e-31, 3.607300430410089e-30, 3.622046868623105e-30, 1.497925161848589e-30, 2.5088785469297584e-30, 6.363433829203574e-31, 2.9708620673083723e-31, 2.464260188639343e-31, 1.1595733886280587e-31, 9.320084100771551e-32, 6.461754816319548e-32, 8.290249572660899e-32, 5.034283085537918e-32, 6.65162303449614e-32, 1.335164040789928e-31, 4.280751909438575e-31, 9.373963814049776e-31, 9.93802576099583e-31, 7.562880748894014e-31, 4.3285116096463686e-31, 2.9708620673083723e-31, 2.193750637626692e-31, 2.9708620673083307e-31, 2.9708620673083307e-31, 3.7655402347630603e-31, 6.655507824258401e-31, 1.112624114673665e-30, 3.3119865635136395e-30, 2.4922624565000608e-30, 9.196380786275767e-30, 6.641144388438608e-30, 7.617435432279252e-30, 1.200672700004268e-29]
#dcc=derive(range(len(current_datetimes)), dc)